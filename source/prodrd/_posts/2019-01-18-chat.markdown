---
layout:     source 
title:      "2019-01-18-WeChat"
date:       2019-01-18 12:00:00
author:     None
lines:      16 
tag:       [chat]
---
> 08:12:47  何阳??????  
   
各位大佬，三方支付中各种支付方式的入金费率不同，手续费也不同，是否应该使用个别计价法进行匹配  
   
> 15:02:29  玉米棒子  
   
有大佬知道，针对订单调用第三方生成二维码支付（微信native支付，支付宝扫码支付），如何做成三码合一。用户用支付宝，微信，云闪付扫码都可以付款嘛  
   
> 15:10:34  刘江-现在支付-开发  
   
你说是多合一支付的卡牌吧？ 那种后端不是调用的第三方生成二维码接口。  
   
> 15:11:23  玉米棒子  
   
就是基于订单生成一个二维码。用户拿微信扫，直接唤起微信支付。用支付宝扫，直接唤起支付宝支付  
   
> 15:12:35  刘江-现在支付-开发  
   
那个是自己开发一个系统，自己的url生成二维码，用户扫，获取请求userAgent，然后根据不同的应用去不同渠道下单。然后拉起支付  
   
> 15:12:36  刘江-现在支付-开发  
   
https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_1  
   
> 15:12:45  刘江-现在支付-开发  
   
参考微信的JSAPI  
   
> 15:13:32  玉米棒子  
   
相当于扫完码要出来一个页面。我通过这个页面判断是在哪个app里面，然后去调用不同的渠道支付对吧  
   
> 15:13:41  刘江-现在支付-开发  
   
不是  
   
> 15:14:11  刘江-现在支付-开发  
   
用户用不同的app请求你，你判断userAgent里的参数，就可以得知用户用哪个app扫的  
   
> 15:14:25  刘江-现在支付-开发  
   
然后，你去对应的渠道下单就行了  
   
> 15:16:02  刘江-现在支付-开发  
   
至于你说的渠道生成支付url，然后你生成二维码让用户扫，一般使用在收银员手持设备上的，他会问你用什么支付，然后他用手持设备下单，然后你用对应app扫码支付。  
   
> 15:16:57  刘江-现在支付-开发  
   
这个对应微信的 native支付，也就是主扫https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_1  
   
> 15:18:34  wxid_0btesporkwqf21  
   
问一下大家，第三方支付的会计科目准则有参考资料可分享吗  
   
> 15:23:37  玉米棒子  
   
@刘江-现在支付-开发 明白了，感谢  
   
> 15:24:24  刘江-现在支付-开发  
   
不客气，共同学习啊  
   
