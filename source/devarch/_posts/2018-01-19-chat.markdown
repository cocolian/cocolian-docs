---
layout:     source 
title:      "2018-01-19-WeChat"
date:       2018-01-19 12:00:00
author:     PaymentGroup
lines:      22 
tag:		  [chat]
---
> 06:54:11  李小胖  
   
20180114-电商平台支付系统改造  
   
> 08:06:10  程琳Wa-杉德支付-产品-上海  
   
[强][强][强]  
   
> 08:13:56  窦巍  
   
[强][强][强]  
   
> 08:18:32  秋水-厚本金融-产品经理  
   
给力  
   
> 08:25:12  梁文辉  
   
给力  
   
> 08:48:12  时光来过  
   
各位大神是怎么做限流的  
   
> 08:51:36  Json  
   
找个API gateway呗。。。省了自己干了  
   
> 09:03:35  时光来过  
   
没有api gateway的情况呢  
   
> 09:13:32  Json  
   
辣么多开源的api gateway 看看rate limiting这块咋写的 超一超呗[坏笑]  
   
> 09:14:17  陈鹏  
   
用令牌桶算法，自己实现一下？  
   
> 09:15:43  孔晓光-丰瑞祥-技术  
   
API网关的开源解决方案那么多，为什么我们却还要选择自研？  
   
> 09:16:48  程琳Wa-杉德支付-产品-上海  
   
孔大看花眼了[奸笑]  
   
> 09:18:19  孔晓光-丰瑞祥-技术  
   
名字都太相似了……  
   
> 09:19:44  时光来过  
   
就是因为网上千篇一律的文章太多了，我们最近做了一个限流的工具，真正做的时候 根本不是网上说的那么简单。才想问下大家都是怎么做的  
   
> 09:19:56  程琳Wa-杉德支付-产品-上海  
   
哈哈哈，有同感  
   
> 09:27:50  李雄峰  
   
@宋大圣  guava RateLimiter  
   
> 09:28:33  天才第一步  
   
[强]研究下  
   
> 09:30:57  齐天大圣  
   
我们的限流用的最原始的实现[捂脸]memcache写了一个，根据客户的id和客户端设备id做的[捂脸]  
   
> 09:31:34  时光来过  
   
@老熊-头条-支付PL? 对，我们的一个控制策略用的这个  
   
> 09:38:43  Json  
   
关键还是看需求 要不要分布式   
   
> 09:41:50  时光来过  
   
现在的服务，很少有不分布式的了吧。做成支持分布式的，兼容单机的也简单  
   
> 12:58:44  bill在飞  
   
![2018-01-19 12:58:44](http://static.cocolian.cn/img/201801/20180119_125844.png) 
   
> 12:58:45  bill在飞  
   
![2018-01-19 12:58:45](http://static.cocolian.cn/img/201801/20180119_125845.png) 
   
> 12:59:33  bill在飞  
   
跑在docker的jvm进程top显示的virt内存是不是实际是docker分配的  
   
> 12:59:34  bill在飞  
   
？  
   
> 13:01:33  bill在飞  
   
求教  
   
