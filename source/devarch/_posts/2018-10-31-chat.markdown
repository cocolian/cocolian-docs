---
layout:     source 
title:      "2018-10-31-WeChat"
date:       2018-10-31 12:00:00
author:     None
lines:      54 
tag:       [chat]
---
> 00:01:51  盛付通—侯哥  
   
@姜桥-摩拜单车-技术?有  
   
> 09:09:49  北京-中投科信产品-张冠杰  
   
@丹凤-现在支付-产品-武汉 ok  
   
> 09:12:02  通联支付-产品-符音-深圳  
   
向各位咨询一个问题，现在网联的招行协议支付签约验证身份证号？早前好像是只要三要素，姓名、卡号、手机号码  
   
> 09:15:30  通联支付-产品-符音-深圳  
   
早前，只验，上传还是要求四要素的  
   
> 11:06:33  wood-通联-技术  
   
![2018-10-31 11:06:33](http://static.cocolian.cn/img/20181031_110633.png) 
   
> 11:14:05  郭先森-首信易 商务  
   
[捂脸]  
   
> 11:14:11  郭先森-首信易 商务  
   
转了  
   
> 11:18:10  wxid_wtjag9bub6rs22  
   
最后一句很霸气[捂脸]  
   
> 11:47:18  程昱_群管理  
   
![2018-10-31 11:47:18](http://static.cocolian.cn/img/20181031_114718.png) 
   
> 11:54:55  起坤-平安银行-风控技术-上海  
   
这个是什么？  
   
> 11:55:12  起坤-平安银行-风控技术-上海  
   
@程昱  
   
> 12:13:29  程昱_群管理  
   
hongkong fintech   
   
> 14:10:34  wxid_aqpzmkb2llbc22  
   
大家怎么解决微信扫码支付，重复扫码支付的问题啊  
   
> 14:12:58  双乾支付-技术总监-韩伟  
   
设定有效期啊，扫成功一次就不能再交易啊之类的  
   
> 14:15:33  wxid_aqpzmkb2llbc22  
   
但是有些场景，就是允许用户多次创建支付单并支付的，而且用户在扫码支付完成，微信还没有返回结果的时候又去重新扫码支付了怎么办呢  
   
> 14:16:41  鹏-淘车-产品-北京  
   
同一笔支付单需要做重复支付校验了，已经付过了就进行自动退款处理  
   
> 14:18:32  李凯-潇湘支付-产品-长沙  
   
有没有老师分享下实名认证这一块的东西[呲牙]  
   
> 14:19:55  双乾支付-技术总监-韩伟  
   
如果多扣就冲正，但还是以防止重放为主要防范手段  
   
> 14:20:17  双乾支付-技术总监-韩伟  
   
防止重放，你可以加一个随机数，提交给服务端，来保证交易不重放  
   
> 14:22:16  双乾支付-技术总监-韩伟  
   
如果重放交易，token何随机数就会不匹配  
   
> 14:23:35  wxid_ibbzw7f75v531  
   
重复交易搞那么复杂  
   
> 14:23:44  双乾支付-技术总监-韩伟  
   
这些你们开发经理都会管吧  
   
> 14:24:38  双乾支付-技术总监-韩伟  
   
@j4念勾for-TAL-开发?你的意思是数据库加个主键，不让他继续写？  
   
> 14:24:48  wxid_ibbzw7f75v531  
   
支付单+支付流水，回调加个分布式锁，就可以自动识别出重复交易了是吧  
   
> 14:24:50  双乾支付-技术总监-韩伟  
   
那会影响效率  
   
> 14:29:43  双乾支付-技术总监-韩伟  
   
除此之外，防重放还有一个目的是防止交易被黑客重复利用  
   
> 14:30:05  双乾支付-技术总监-韩伟  
   
所以不仅仅在服务端做唯一性就能解决的  
   
> 14:30:39  双乾支付-技术总监-韩伟  
   
所以这就是搞得这么复杂的原因吧  
   
> 15:17:47  盛付通—侯哥  
   
苹果电脑不支持网银系统，这个问题各位是肿么解决的？ ???  
   
> 15:26:28  双乾支付-技术总监-韩伟  
   
问银行  
   
> 15:26:37  双乾支付-技术总监-韩伟  
   
大部分银行，比如招行  
   
> 15:26:41  双乾支付-技术总监-韩伟  
   
现在是支持的  
   
> 16:01:39  张学鸿-北京-研发-民金所  
   
[史上物理学最强的科普！
](http://mp.weixin.qq.com/s?__biz=MjM5MDE3OTk2Ng==&amp;amp;amp;mid=2657443912&amp;amp;amp;idx=1&amp;amp;amp;sn=7e4d7a31997b58016980150ac453b190&amp;amp;amp;chksm=bdd977598aaefe4fd60f8f4ec8def937b002b02d8c1f78115f70583ff6755131ba8d9a3b3057&amp;amp;amp;mpshare=1&amp;amp;amp;scene=1&amp;amp;amp;srcid=1031E6wBziJB7TfaxZd4sRYA#rd)  
   
> 16:35:43  网商-技术-北京  
   
Java8 的Stream API为啥我觉得代码可读性变差了，代码写起来简洁了  
   
> 16:35:52  网商-技术-北京  
   
大家使用的时候如何权衡  
   
> 16:36:34  张文-58-技术-北京  
   
可读性变好了吧  
   
> 16:37:20  朱海申-爱贝-研发  
   
那是因为你还不习惯  
   
> 16:42:23  张学鸿-北京-研发-民金所  
   
确实不咋习惯啊  
   
> 16:43:03  王成龙-新浪跨境-研发-上海  
   
代码简化了很多，多写写就好了  
   
> 16:44:39  王成龙-新浪跨境-研发-上海  
   
下一波潮流就是函数式编程啦   要快点习惯啊  
   
> 16:50:16  wxid_ibbzw7f75v531  
   
可读性杠杠的  
   
> 17:05:22  刘华伟-陌陌-开发  
   
可调试性变差了  
   
> 17:06:50  wxid_ibbzw7f75v531  
   
每个方法换一行呗  
   
> 17:22:34  Jason finzsoft 打架 澳新  
   
可调式性确实，而且异常处理非常难搞  
   
> 17:28:50  Albert-2SINC-开发  
   
Ide都找不到具体实现  
   
> 17:29:50  Albert-2SINC-开发  
   
就一个工厂而已，根据条件，调用不同的方法，要不是我自己写的还真不好找  
   
> 17:39:45  合付宝-渠道&李猛  
   
@双乾支付-技术总监-韩伟  
   
> 17:39:56  合付宝-渠道&李猛  
   
韩总在吗？  
   
> 17:51:44  右军-蚂蚁金服-成都  
   
[“有效”是做正确的事，“效率”是正确地做事。
](http://mp.weixin.qq.com/s?__biz=MzIxMzEzMjM5NQ==&amp;amp;amp;mid=2651030495&amp;amp;amp;idx=1&amp;amp;amp;sn=e7d99632846a08b109b15ad178874cbf&amp;amp;amp;chksm=8c4c56dbbb3bdfcd81c2e6fcac4b6a2a6faa0cdfc437a36c72a02f9c869242222adbc5f95690&amp;amp;amp;mpshare=1&amp;amp;amp;scene=1&amp;amp;amp;srcid=1031VJVqbplMVEqWkEU74MGb#rd)  
   
> 17:59:52  丹凤-现在支付-产品-武汉  
   
@右军-蚂蚁金服-成都 你写的文章么？  
   
> 18:01:07  右军-蚂蚁金服-成都  
   
别人写的 比较认同  
   
> 18:01:26  smartwave-开科支付-成都  
   
各位大哥，请教一个问题。 一般在支付系统里面的路由的时候，有没有一些常用的算法。  
   
> 18:01:40  smartwave-开科支付-成都  
   
[奸笑]  
   
> 18:01:49  丹凤-现在支付-产品-武汉  
   
嗯，确实挺好~  
   
