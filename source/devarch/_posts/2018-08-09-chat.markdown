---
layout:     source 
title:      "2018-08-09-WeChat"
date:       2018-08-09 12:00:00
author:     PaymentGroup
lines:      372 
tag:       [chat]
---
> 00:00:10  百联-田浩沛  
   
坚决与左派分子张学鸿划清界限，与其造谣生事的同党们战斗到底  
   
> 00:12:46  秋水-阿里云-鼓励师  
   
郑重声明，本人未参与群内讨论,不理解群内话题含义,未曾在线下与群内成员接触,特此声明,划清界线!  
   
> 00:12:51  秋水-阿里云-鼓励师  
   
坚决与左派分子张学鸿划清界限，与其造谣生事的同党们战斗到底  
   
> 00:14:36  拉卡拉-市场-老孙  
   
![2018-08-09 00:14:36](http://static.cocolian.cn/img/201808/20180809_001436.png) 
   
> 00:14:54  无缺-杭州-后端  
   
郑重声明，本人未参与群内讨论,不理解群内话题含义,未曾在线下与群内成员接触,特此声明,划清界线!  
   
> 00:15:44  程昱_群管理  
   
@拉卡拉-市场-老孙?[强]  
   
> 00:15:52  程昱_群管理  
   
我也是这样的见解  
   
> 00:16:10  程昱_群管理  
   
韭菜的钱都是去补窟窿的  
   
> 00:16:28  拉卡拉-市场-老孙  
   
房子股票钱袋子  
   
> 00:16:31  程昱_群管理  
   
这是中国特色  
   
> 00:16:43  拉卡拉-市场-老孙  
   
直接三连刀  
   
> 00:16:52  程昱_群管理  
   
股市我也怀疑是补窟窿的  
   
> 00:17:29  拉卡拉-市场-老孙  
   
算是硬降落???  
   
> 00:57:32  【信融集团】·王瑞  
   
不说了，我去超市囤康师傅了。要是涨价了，就只能去拼多多拼康帅傅了。  
   
> 08:08:11  Allen-lanyou-开发  
   
d6h;。可以  
   
> 09:03:48  阿茂-百联（离职）-研发  
   
[确认：拼多多已入股付费通 曲线“求娶”支付牌照](https://view.inews.qq.com/a/TEC2018080802048904?uid=100003102699)  
   
> 09:04:10  风兮-Java技术-上海  
   
...  
   
> 09:04:21  风兮-Java技术-上海  
   
卧槽，还是真的假的  
   
> 09:04:31  风兮-Java技术-上海  
   
只知道付费通在谈  
   
> 09:05:19  阿茂-百联（离职）-研发  
   
付费通业务太单一  
   
> 09:05:37  风兮-Java技术-上海  
   
跟不上节奏了  
   
> 09:05:52  阿茂-百联（离职）-研发  
   
是时候换换血了  
   
> 09:06:05  风兮-Java技术-上海  
   
付费通以前主要靠发卡和收单  
   
> 09:06:12  风兮-Java技术-上海  
   
互联网不重视  
   
> 09:06:17  wood-通联-技术  
   
支付机构剩下50家，足够了  
   
> 09:06:23  wood-通联-技术  
   
现在太多了  
   
> 09:06:35  wood-通联-技术  
   
极端点20家都可以  
   
> 09:06:58  风兮-Java技术-上海  
   
我觉得100家至少  
   
> 09:07:22  wood-通联-技术  
   
太多了没有意义  
   
> 09:07:30  风兮-Java技术-上海  
   
每个省市至少有一家有拍照  
   
> 09:07:37  wood-通联-技术  
   
管起来还麻烦  
   
> 09:07:43  风兮-Java技术-上海  
   
按照这个计算  
   
> 09:07:53  wood-通联-技术  
   
现在很多省都没有  
   
> 09:08:00  wood-通联-技术  
   
比如宁夏  
   
> 09:08:04  wood-通联-技术  
   
新疆  
   
> 09:08:07  wood-通联-技术  
   
西藏  
   
> 09:08:16  风兮-Java技术-上海  
   
那你说错了  
   
> 09:08:17  wood-通联-技术  
   
估计以后也很难有了  
   
> 09:08:23  风兮-Java技术-上海  
   
西藏可能没有  
   
> 09:08:32  wood-通联-技术  
   
走着看  
   
> 09:08:36  风兮-Java技术-上海  
   
宁夏和新疆不一定哈  
   
> 09:18:16  拉卡拉-市场-老孙  
   
要那么多都浪费  
   
> 09:18:24  拉卡拉-市场-老孙  
   
搞个两三家多好  
   
> 09:18:33  拉卡拉-市场-老孙  
   
好怀念以前的日子啊  
   
> 09:27:03  阿茂-百联（离职）-研发  
   
唯一说的上的就是他们的公缴业务  
   
> 09:30:04  风兮-Java技术-上海  
   
不知道现在支付宝上海的公共事业缴费还是不是付费通  
   
> 09:31:49  wood-通联-技术  
   
早不是了  
   
> 09:32:11  wood-通联-技术  
   
因为支付宝爬付费通的数据  
   
> 09:32:20  wood-通联-技术  
   
所以付费通给关了  
   
> 09:33:10  拉卡拉-市场-老孙  
   
支付宝还是背后有人，把网联虐得不要不要的  
   
> 09:33:17  wood-通联-技术  
   
[上海付费通封杀支付宝缴费业务 广州不受影响](http://tech.sina.cn/i/gn/2014-07-02/detail-iaxixtqr9402049.d.html)  
   
> 09:40:03  阿茂-百联（离职）-研发  
   
在付费通呆了好多年。  
   
> 09:40:52  阿茂-百联（离职）-研发  
   
他们做收单比支付宝都早。  
   
> 09:41:08  阿茂-百联（离职）-研发  
   
打了一手烂牌。  
   
> 09:42:04  达达-消金-开发  
   
付费通的系统感觉很烂    
   
> 09:42:27  阿茂-百联（离职）-研发  
   
这不是系统的事儿。  
   
> 09:42:36  hgwym-传化支付-技术经理  
   
支付宝是依托淘宝起来的  
   
> 09:42:40  hgwym-传化支付-技术经理  
   
不一样  
   
> 09:44:05  阿茂-百联（离职）-研发  
   
眼光问题。  
   
> 09:44:27  风兮-Java技术-上海  
   
付费通系统不算烂了，最早都是华腾做的  
   
> 09:44:56  阿茂-百联（离职）-研发  
   
那些年都沉浸在发卡的欢乐中  
   
> 09:46:20  阿茂-百联（离职）-研发  
   
花藤早都不是什么行业神话了。  
   
> 09:46:45  风兮-Java技术-上海  
   
现在当然不是，以前那还是不错的  
   
> 09:47:09  阿茂-百联（离职）-研发  
   
确切的说，花藤08年 以后就是个渣渣了  
   
> 09:47:37  拉卡拉-市场-老孙  
   
烂牌又不是只有一家  
   
> 09:48:28  阿茂-百联（离职）-研发  
   
08年华腾分裂过一次，牛逼的人带着一帮人去了银联，做了当时银联的二把手。  
   
> 09:49:01  阿茂-百联（离职）-研发  
   
还有一部分人出去成立了汇付天下  
   
> 09:49:17  吴峻申  
   
银联现在也不怎么样  
   
> 09:49:35  阿茂-百联（离职）-研发  
   
剩下的 不用说了  
   
> 09:49:38  达达-消金-开发  
   
互联网部  好多华腾的  
   
> 09:49:50  吴峻申  
   
@阿茂-百联-研发?擦，新茂啊  
   
> 09:50:04  吴峻申  
   
怎么也在这里，啥时来的？  
   
> 09:50:05  阿茂-百联（离职）-研发  
   
[呲牙]  
   
> 09:50:14  阿茂-百联（离职）-研发  
   
我来的早了  
   
> 09:50:45  阿茂-百联（离职）-研发  
   
[捂脸]圈子真小  
   
> 09:51:30  阿茂-百联（离职）-研发  
   
说白了  后来的华腾为什么评价高，就是因为耐操。  
   
> 09:52:20  阿茂-百联（离职）-研发  
   
从华腾工作几年出来 发现外面这些公司的加班  都是毛毛雨。  
   
> 09:53:09  风兮-Java技术-上海  
   
说华腾圈子就小了  
   
> 09:53:17  风兮-Java技术-上海  
   
我在华腾干了半年  
   
> 09:57:53  阿茂-百联（离职）-研发  
   
现在只有 bat ota 这样的履历。  
   
> 09:58:12  阿茂-百联（离职）-研发  
   
华腾？waht？没听过  
   
> 09:58:57  风兮-Java技术-上海  
   
[捂脸]  
   
> 09:59:17  风兮-Java技术-上海  
   
上海华腾圈子还是小，全国就算了  
   
> 10:00:09  吴峻申  
   
没呆过华腾，不过十几年前老板和同事都是华腾过来的  
   
> 10:00:23  吴峻申  
   
华腾现在就是外包吧  
   
> 10:00:32  阿茂-百联（离职）-研发  
   
一直都是外包  
   
> 10:00:38  风兮-Java技术-上海  
   
现在华腾就是中软国际  
   
> 10:00:50  风兮-Java技术-上海  
   
中软国际你懂的  
   
> 10:01:06  风兮-Java技术-上海  
   
以前主要是接项目和人员外包  
   
> 10:01:08  吴峻申  
   
哦哦哦，刚去拉卡拉时候，她们就算中软国际的了  
   
> 10:01:12  风兮-Java技术-上海  
   
现在主要是人员外包  
   
> 10:01:21  吴峻申  
   
13年年底  
   
> 10:01:25  dreamup-平安-产品  
   
以前的银联cups、全国好几个省金卡前置、兴业的银银平台、通联支付的APS、POS都是华腾做的  
   
> 10:01:42  吴峻申  
   
东南融通有人听过么？  
   
> 10:01:46  风兮-Java技术-上海  
   
[捂脸]我入职华腾就是中软员工了，很坑。呆半年就走  
   
> 10:01:56  阿茂-百联（离职）-研发  
   
有听过  
   
> 10:02:00  吴峻申  
   
那时候在东南，同事和老大都是华腾过来的  
   
> 10:02:05  阿茂-百联（离职）-研发  
   
外包  
   
> 10:02:09  阿茂-百联（离职）-研发  
   
上市公司  
   
> 10:02:15  阿茂-百联（离职）-研发  
   
最后老板跑路了  
   
> 10:02:25  吴峻申  
   
我那时候没上市，离职后半年上市  
   
> 10:02:36  吴峻申  
   
对，11年跑路  
   
> 10:02:47  阿茂-百联（离职）-研发  
   
我擦 你在东南呆过？  
   
> 10:02:52  吴峻申  
   
06,07  
   
> 10:03:02  吴峻申  
   
是啊，呆了两年不到  
   
> 10:03:05  风兮-Java技术-上海  
   
除了支付行业，那时候华腾在交通地铁、系统运维都不算差吧  
   
> 10:03:07  阿茂-百联（离职）-研发  
   
怪不得那么菜[呲牙]  
   
> 10:03:09  吴峻申  
   
很多人都是前华腾的  
   
> 10:03:16  吴峻申  
   
靠  
   
> 10:03:41  北京一张泽雄  
   
东南融通听说很厉害的啊，在国外上市了  
   
> 10:03:53  吴峻申  
   
早就下了  
   
> 10:03:54  阿茂-百联（离职）-研发  
   
退市了  
   
> 10:04:01  北京一张泽雄  
   
后来，被做空做死了  
   
> 10:04:20  北京一张泽雄  
   
当时在业内震动很大  
   
> 10:04:23  吴峻申  
   
众安科技现在cto当年和我一起在东南融通写代码  
   
> 10:04:49  吴峻申  
   
东南融通退市后，那家伙跑到阿里了，后来就去了众安  
   
> 10:04:58  阿茂-百联（离职）-研发  
   
老吴啊  
   
> 10:05:26  吴峻申  
   
众安科技是分出去的  
   
> 10:06:10  吴峻申  
   
一开始只有众安保险，三马投股，三国大战，阿里系不想玩了，自己分出去成立了众安科技  
   
> 10:06:46  吴峻申  
   
现在众安保险应该是平安系赢了，福利和管理风格和平安没区别  
   
> 10:06:48  阿茂-百联（离职）-研发  
   
老吴现在在哪啊  
   
> 10:06:57  吴峻申  
   
贝壳  
   
> 10:07:02  阿茂-百联（离职）-研发  
   
我擦  
   
> 10:07:43  阿茂-百联（离职）-研发  
   
你这一天天的有点频繁了，  
   
> 10:07:53  吴峻申  
   
感觉众安就是平安小老婆生的娃  
   
> 10:08:09  吴峻申  
   
哈哈，去年中秋在香港上市了  
   
> 10:08:18  乐天-麦子金服-打杂-上海  
   
贝壳在上海有金融业务线吗  
   
> 10:08:42  阿茂-百联（离职）-研发  
   
还用问吗  
   
> 10:09:05  乐天-麦子金服-打杂-上海  
   
？不知道要问呀  
   
> 10:09:10  阿茂-百联（离职）-研发  
   
即使现在没有 不久的将来也会有[呲牙]  
   
> 10:09:18  乐天-麦子金服-打杂-上海  
   
。。。  
   
> 10:09:29  吴峻申  
   
有啊  
   
> 10:09:37  吴峻申  
   
我们不是贝壳找房  
   
> 10:09:45  吴峻申  
   
那是兄弟公司  
   
> 10:10:05  阿茂-百联（离职）-研发  
   
那你是贝克找床？  
   
> 10:10:15  乐天-麦子金服-打杂-上海  
   
[偷笑]  
   
> 10:10:22  吴峻申  
   
噗  
   
> 10:10:29  吴峻申  
   
找妹  
   
> 10:10:30  乐天-麦子金服-打杂-上海  
   
贝壳金控  
   
> 10:10:31  吴峻申  
   
哈哈哈  
   
> 10:10:44  吴峻申  
   
错，贝壳找妹  
   
> 10:10:49  吴峻申  
   
[憨笑]  
   
> 10:11:48  阿茂-百联（离职）-研发  
   
最终还得找床。  
   
> 10:12:07  阿茂-百联（离职）-研发  
   
生态链  
   
> 10:12:46  吴峻申  
   
一波人都是前点融的，还有些前夸客和前众安的  
   
> 10:13:08  吴峻申  
   
我觉得我每次都是孤身一人来到一群集体跳槽的人中间去  
   
> 10:13:20  吴峻申  
   
比如在拉卡拉，那么多前华腾的  
   
> 10:13:23  吴峻申  
   
[流汗]  
   
> 10:13:37  阿茂-百联（离职）-研发  
   
现在都流行抱团取暖  
   
> 10:13:53  吴峻申  
   
[得意]  
   
> 10:14:01  阿茂-百联（离职）-研发  
   
拉卡拉 基本 就是高阳+华腾  
   
> 10:14:04  吴峻申  
   
我是孙悟空，喜欢单干  
   
> 10:14:19  吴峻申  
   
对，高阳也好久没听说了  
   
> 10:14:33  阿茂-百联（离职）-研发  
   
说明你牛逼啊，  
   
> 10:14:50  阿茂-百联（离职）-研发  
   
现在的面试真的越来越没法形容了。  
   
> 10:15:24  吴峻申  
   
是啊，连我都强撸了好几次我十几年前刚写java学的东西  
   
> 10:15:54  阿茂-百联（离职）-研发  
   
小到变量类型，大到系统架构理解。  
   
> 10:15:59  吴峻申  
   
那种spring的bean装载机制，从0几年到现在都没变化过，谁TMD天天记着啊  
   
> 10:16:11  阿茂-百联（离职）-研发  
   
轮番下来  有点招架不住  
   
> 10:17:20  吴峻申  
   
redis还有问encoding呢，我第一次被问一脸懵逼，后来去看，tmd还真有encoding这么一说，我还以为是gbk utf8这种东西  
   
> 10:17:32  吴峻申  
   
汗死  
   
> 10:17:54  阿茂-百联（离职）-研发  
   
所以说还是你厉害  
   
> 10:18:10  拉卡拉-市场-老孙  
   
你拉卡拉啊  
   
> 10:18:16  拉卡拉-市场-老孙  
   
我也刚到  
   
> 10:18:24  阿茂-百联（离职）-研发  
   
刚当。。。。  
   
> 10:18:33  阿茂-百联（离职）-研发  
   
我们都离职很多年了。。。  
   
> 10:18:38  张戈-联动优势-DD  
   
向前辈致敬~  
   
> 10:18:48  吴峻申  
   
@拉卡拉-市场-老孙?我和阿茂以前在拉卡拉一起写代码的  
   
> 10:19:00  阿茂-百联（离职）-研发  
   
前前前.....东家了，，  
   
> 10:19:15  吴峻申  
   
@拉卡拉-市场-老孙?你北京?不会是孙总吧？[偷笑]  
   
> 10:19:25  拉卡拉-市场-老孙  
   
哈哈  
   
> 10:19:28  拉卡拉-市场-老孙  
   
我在湖北  
   
> 10:19:29  吴峻申  
   
我们当年也叫他老孙[调皮]  
   
> 10:19:37  阿茂-百联（离职）-研发  
   
陶然  
   
> 10:19:58  吴峻申  
   
。。。不是还有本书么  
   
> 10:20:01  拉卡拉-市场-老孙  
   
泰山  
   
> 10:20:07  吴峻申  
   
什么创业军规什么的  
   
> 10:20:22  拉卡拉-市场-老孙  
   
我入职一个月  
   
> 10:20:25  拉卡拉-市场-老孙  
   
不到  
   
> 10:20:29  拉卡拉-市场-老孙  
   
我之前杉德的  
   
> 10:20:34  拉卡拉-市场-老孙  
   
呆了九年  
   
> 10:20:43  吴峻申  
   
还没过试用期[阴险]  
   
> 10:20:44  拉卡拉-市场-老孙  
   
我管市场端的  
   
> 10:20:50  阿茂-百联（离职）-研发  
   
发现 圈子真小  
   
> 10:20:55  拉卡拉-市场-老孙  
   
我不用试用  
   
> 10:20:57  拉卡拉-市场-老孙  
   
哈哈  
   
> 10:21:02  阿茂-百联（离职）-研发  
   
来来回回就这几家公司  
   
> 10:21:09  吴峻申  
   
市场好，公司的钱可劲的花  
   
> 10:21:12  吴峻申  
   
[坏笑]  
   
> 10:21:15  阿茂-百联（离职）-研发  
   
base上海？  
   
> 10:21:25  阿茂-百联（离职）-研发  
   
浦东？  
   
> 10:21:53  吴峻申  
   
@阿茂-百联-研发?你还在百联啊?  
   
> 10:22:07  阿茂-百联（离职）-研发  
   
什么时候分享像从市场端对支付行业的理解  
   
> 10:22:23  阿茂-百联（离职）-研发  
   
没有  
   
> 10:23:14  阿茂-百联（离职）-研发  
   
现在在做生鲜 餐饮  
   
> 10:23:39  吴峻申  
   
新零售？  
   
> 10:24:05  阿茂-百联（离职）-研发  
   
不太算。  
   
> 10:24:07  吴峻申  
   
永辉，美味不用等，盒马，猩便利?  
   
> 10:24:16  阿茂-百联（离职）-研发  
   
都不是，  
   
> 10:24:30  吴峻申  
   
好吧  
   
> 10:25:42  百联-田浩沛  
   
这几个都太low了，没有有想象力  
   
> 10:26:11  阿茂-百联（离职）-研发  
   
田老师来了  
   
> 10:26:40  地平线-文思-产品  
   
田老师红烧肉  
   
> 10:26:53  吴松福-分账  
   
![2018-08-09 10:26:53](http://static.cocolian.cn/img/201808/20180809_102653.png) 
   
> 10:26:54  吴松福-分账  
   
你是不是被田老师吓跑了  
   
> 10:27:07  申彬彬-随行付-PM-北京  
   
拉卡拉的朋友认识刘泽宏么  
   
> 10:27:36  申彬彬-随行付-PM-北京  
   
应该是做研发的  
   
> 10:28:22  周晓波-拉卡拉-产品  
   
我在上海这边，不认识  
   
> 10:31:09  阿茂-百联（离职）-研发  
   
@吴松福-分账?因为一块红绕肉  
   
> 10:57:02  吴峻申  
   
@申彬彬-随行付-PM-北京?刘哲认识  
   
> 11:05:33  老汪-阿尔法-鼓励师-江苏  
   
各位群友，有用到oracle的exadata吗？  
   
> 11:15:53  拉卡拉-市场-老孙  
   
认识肖波和罗恒  
   
> 14:59:46  张戈-联动优势-DD  
   
这次央行罚完是不是可以进件了？  
   
> 15:34:33  拉卡拉-市场-老孙  
   
估计难  
   
> 15:51:35  张海亮-中化-高级JAVA-北京  
   
有对mybatis很熟悉的没？请教个问题。  
   
> 15:51:36  张海亮-中化-高级JAVA-北京  
   
，commit ,如果碰到例如唯一索引冲突，事务不回滚  
   
> 15:51:37  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 15:51:37](http://static.cocolian.cn/img/201808/20180809_155137.png) 
   
> 15:52:51  风兮-Java技术-上海  
   
我觉得你这个代码问题把  
   
> 15:52:57  梁雷-联动优势-项目经理  
   
已经commit过的肯定不回滚了  
   
> 15:53:12  风兮-Java技术-上海  
   
同意  
   
> 15:53:33  风兮-Java技术-上海  
   
所有执行完才commit  
   
> 15:54:03  风兮-Java技术-上海  
   
而且为什么不用foreach去批量插入呢  
   
> 15:59:31  张海亮-中化-高级JAVA-北京  
   
foreach也可以。  
   
> 15:59:40  张海亮-中化-高级JAVA-北京  
   
上面说的没看明白。  
   
> 16:00:02  张海亮-中化-高级JAVA-北京  
   
commit出异常，执行rollback  
   
> 16:00:07  张海亮-中化-高级JAVA-北京  
   
没有回滚  
   
> 16:00:30  张海亮-中化-高级JAVA-北京  
   
@梁雷-联动优势-项目经理   
   
> 16:01:53  张海亮-中化-高级JAVA-北京  
   
@风兮-Java技术-上海 执行完才commit是什么意思  
   
> 16:02:28  hobbit-待业-广州  
   
你的唯一索引是自增的吗?  
   
> 16:02:34  张海亮-中化-高级JAVA-北京  
   
不是  
   
> 16:02:43  风兮-Java技术-上海  
   
我个人认为你这个方法代码写的有很多问题  
   
> 16:02:58  hobbit-待业-广州  
   
那这个你代码里面可以控制啊.这个唯一性的问题.  
   
> 16:04:05  张海亮-中化-高级JAVA-北京  
   
尴尬，那些问题@风兮-Java技术-上海   
   
> 16:04:17  风兮-Java技术-上海  
   
你想实现的是批量插入，但是为了提高效率不是所有执行完才提交事务，而是每执行多少条后提交？对吧  
   
> 16:04:49  张海亮-中化-高级JAVA-北京  
   
@hobbit-待业-广州 具体解决方案我有，我现在就疑惑。就像让他提交失败，这一批就回滚  
   
> 16:05:05  张海亮-中化-高级JAVA-北京  
   
是的  
   
> 16:05:30  hobbit-待业-广州  
   
如果是主键重复,应该不用commit就报错了吧.你这个是没插入1000条就提交  
   
> 16:05:48  张海亮-中化-高级JAVA-北京  
   
是的。一共也没1000条  
   
> 16:05:53  张海亮-中化-高级JAVA-北京  
   
就一批  
   
> 16:06:07  风兮-Java技术-上海  
   
@张海亮-中化-高级JAVA-北京 你想要回滚的效果啥？现在的问题是啥呢  
   
> 16:06:39  张海亮-中化-高级JAVA-北京  
   
就是我这一批里，如果有一条失败了。所有都回滚。不做插入了  
   
> 16:07:11  风兮-Java技术-上海  
   
现在的情况是不能全部回滚  
   
> 16:07:40  张海亮-中化-高级JAVA-北京  
   
嗯  
   
> 16:08:37  张海亮-中化-高级JAVA-北京  
   
这样说吧。批量编程式模式怎么写  
   
> 16:08:40  风兮-Java技术-上海  
   
@张海亮-中化-高级JAVA-北京 举例：假如数据1W条，没1000条提交一次，当第一个1000条数据提交后，执行到1002条报错，实际回滚的是1001与1002，前面已提交的1000条是不能回滚的  
   
> 16:08:56  张海亮-中化-高级JAVA-北京  
   
晕。那个我肯定知道啊  
   
> 16:09:30  张海亮-中化-高级JAVA-北京  
   
你现在不用考虑1000条，我就2条，其中一个字段一样，数据库里加了唯一索引，运行上面代码，  
   
> 16:09:39  风兮-Java技术-上海  
   
那你现在的问题啥啊，我们都理解成这个了  
   
> 16:10:49  张海亮-中化-高级JAVA-北京  
   
3条，其中一个字段加了唯一索引，有两条该字段一样，运行上面代码，插入了一条  
   
> 16:10:55  张海亮-中化-高级JAVA-北京  
   
我想一条也插入不进去  
   
> 16:10:58  张海亮-中化-高级JAVA-北京  
   
就这么简单  
   
> 16:11:04  张海亮-中化-高级JAVA-北京  
   
问题理解了？？？  
   
> 16:11:30  张海亮-中化-高级JAVA-北京  
   
别提供其他的解决方案，我其他的有，也试过了。就像知道上面代码的问题  
   
> 16:11:42  张海亮-中化-高级JAVA-北京  
   
是什么原理，导致回滚不起作用  
   
> 16:12:41  hobbit-待业-广州  
   
是不是这个方法外面还有一个事务  
   
> 16:12:59  风兮-Java技术-上海  
   
![2018-08-09 16:12:59](http://static.cocolian.cn/img/201808/20180809_161259.png) 
   
> 16:13:23  风兮-Java技术-上海  
   
你断点异常这里没有呢？是否确认执行了回滚语句呢  
   
> 16:14:09  张海亮-中化-高级JAVA-北京  
   
没有  
   
> 16:14:14  张海亮-中化-高级JAVA-北京  
   
有  
   
> 16:14:16  张海亮-中化-高级JAVA-北京  
   
执行了  
   
> 16:15:24  风兮-Java技术-上海  
   
没有可能是你三条数据不在同一个事物提交处理中呢？  
   
> 16:16:40  风兮-Java技术-上海  
   
例如第一条在1~1000中，第二条在1001~2000中，第三条在2001~3000中，这种情况肯定有插入成功的  
   
> 16:17:06  风兮-Java技术-上海  
   
不知道我理解的是否正确  
   
> 16:18:18  风兮-Java技术-上海  
   
而且也不明白为啥非要通过异常去控制业务逻辑  
   
> 16:18:46  张海亮-中化-高级JAVA-北京  
   
没有那么多条。我说了。就两条也是一样，两条其中一个字段有唯一索引，两个字段值一样，这两条就会插入一条。上面我说的3条，有错误，3条会插入两条  
   
> 16:19:05  张海亮-中化-高级JAVA-北京  
   
没有通过异常控制业务逻辑啊  
   
> 16:19:12  张海亮-中化-高级JAVA-北京  
   
尴尬  
   
> 16:19:46  张海亮-中化-高级JAVA-北京  
   
嗯  
   
> 16:19:48  王自强-百氪汇-研发-南京  
   
没事务  
   
> 16:20:11  张海亮-中化-高级JAVA-北京  
   
牛  
   
> 16:20:21  张海亮-中化-高级JAVA-北京  
   
@王自强-百氪汇-研发-南京 哈哈  
   
> 16:20:56  风兮-Java技术-上海  
   
说明情况呢？  
   
> 16:22:50  风兮-Java技术-上海  
   
看明白了[糗大了]  
   
> 16:23:06  zz-工行-架构  
   
在commit语句里设置个断点跑一下，看是是不是在insert第二笔的时候已经commit一次了。  
   
> 16:23:44  Daniel-快钱-架构  
   
这里有微信支付的人吗？  
   
> 16:24:33  Daniel-快钱-架构  
   
几百条对账单记录无法下载...  
   
> 16:24:50  张海亮-中化-高级JAVA-北京  
   
@zz-工行-架构 没有  
   
> 16:25:07  张海亮-中化-高级JAVA-北京  
   
insert第二笔时查看数据库，里面还没有记录  
   
> 16:25:17  张海亮-中化-高级JAVA-北京  
   
@风兮-Java技术-上海 我不知道啊  
   
> 16:28:24  风兮-Java技术-上海  
   
@张海亮-中化-高级JAVA-北京 就是我说的那个情况  
   
> 16:29:29  张海亮-中化-高级JAVA-北京  
   
那个情况  
   
> 16:30:04  风兮-Java技术-上海  
   
两个不在同一个提交事务里，其中一个肯定会插入成功  
   
> 16:30:39  张海亮-中化-高级JAVA-北京  
   
为啥不在同一个事务里  
   
> 16:30:49  张海亮-中化-高级JAVA-北京  
   
sqlsession提交的。啊  
   
> 16:31:48  风兮-Java技术-上海  
   
第一条在1~1000中已经提交入库，第二条执行报错第一条不会回滚  
   
> 16:32:15  张海亮-中化-高级JAVA-北京  
   
我靠。我说了我就两条  
   
> 16:32:26  风兮-Java技术-上海  
   
[糗大了]  
   
> 16:36:22  张海亮-中化-高级JAVA-北京  
   
我自己再看看吧  
   
> 16:36:29  张海亮-中化-高级JAVA-北京  
   
谢谢大家  
   
> 16:36:30  梁流威-头条支付  
   
这开启事务了吗？  
   
> 16:36:31  张海亮-中化-高级JAVA-北京  
   
尴尬  
   
> 16:36:32  风兮-Java技术-上海  
   
那就只有之前那哥们说的情况了，没事务  
   
> 16:37:16  风兮-Java技术-上海  
   
不然不应该啊，我实际也没有遇到过  
   
> 16:38:28  张海亮-中化-高级JAVA-北京  
   
这算有事务吗。没事务的话，是不是insert过了，就有一条入库了  
   
> 16:38:29  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 16:38:29](http://static.cocolian.cn/img/201808/20180809_163829.png) 
   
> 16:39:14  张海亮-中化-高级JAVA-北京  
   
现在insert 过了，库里没有，最终commit执行库里有了，然后也跳到rollback那行了。  
   
> 16:40:20  hobbit-待业-广州  
   
这个情况应该是事物都没有开启吧  
   
> 16:41:52  hobbit-待业-广州  
   
看看是不是配置文件出问题了  
   
> 16:42:52  朱海申-爱贝-研发  
   
@张海亮-中化-高级JAVA-北京?你发下你的SQL，opensession时指定autocommit是false了么？异常也发一下  
   
> 16:43:18  张海亮-中化-高级JAVA-北京  
   
指定了。况且默认就是false.  
   
> 16:44:05  朱海申-爱贝-研发  
   
发下SQL  
   
> 16:46:32  朱海申-爱贝-研发  
   
确认下SQL直执行中有没有ddl语句  
   
> 16:48:06  梁流威-头条支付  
   
为什么不全部insert完再commit? insert一条commit一条感觉不是很好  
   
> 16:48:43  朱海申-爱贝-研发  
   
他是批量  
   
> 16:51:07  朱海申-爱贝-研发  
   
@张海亮-中化-高级JAVA-北京?确认下SQL中有没有ddl语句  
   
> 16:51:30  Daniel-快钱-架构  
   
Batch，要啥事务  
   
> 16:51:31  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 16:51:31](http://static.cocolian.cn/img/201808/20180809_165131.png) 
   
> 16:51:39  张海亮-中化-高级JAVA-北京  
   
我再debug跟  
   
> 16:52:04  朱海申-爱贝-研发  
   
你的SQL是什么  
   
> 16:52:21  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 16:52:21](http://static.cocolian.cn/img/201808/20180809_165221.png) 
   
> 16:53:49  张海亮-中化-高级JAVA-北京  
   
00649e, com.sinochem.goldgoods.common.accountchecking.domain.BillBank@8b89b3a, com.sinochem.goldgoods.common.accountchecking.domain.BillBank@526893f]2018-08-09 16:47:17.374 DEBUG 16252 [main] c.s.g.common.accountchecking.mapper.BillBankMapper.insert : ==&amp;gt;  Preparing: insert into bill_bank (third_type, third_sub_type, third_num, trade_type, trade_sn, trade_num, trade_front_num, trade_acct_num, trade_acct_name, trade_cp_acct_num, trade_cp_acct_name, trade_member_code, trade_cp_member_code, trade_fee, trade_amount, trade_date, create_time, update_time, remark, opt_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW(), ?, ?)  
   
> 16:54:04  朱海申-爱贝-研发  
   
异常只要确认有unique键冲突就行了。关键是你SQL中间有没有ddl  
   
> 16:55:56  张海亮-中化-高级JAVA-北京  
   
没有DDL  
   
> 16:56:06  张海亮-中化-高级JAVA-北京  
   
尴尬  
   
> 16:56:11  张海亮-中化-高级JAVA-北京  
   
你是说解决方案  
   
> 16:56:14  张海亮-中化-高级JAVA-北京  
   
？？？  
   
> 16:56:30  张海亮-中化-高级JAVA-北京  
   
我是问为啥，不回滚  
   
> 16:56:48  朱海申-爱贝-研发  
   
有ddl会导致不回滚  
   
> 16:57:24  梁流威-头条支付  
   
![2018-08-09 16:57:24](http://static.cocolian.cn/img/201808/20180809_165724.png) 
   
> 16:57:34  梁流威-头条支付  
   
mysql不会用了这个引擎吧  
   
> 16:57:53  张海亮-中化-高级JAVA-北京  
   
不会，确认了innodb  
   
> 16:58:47  朱海申-爱贝-研发  
   
你把你的数据库表结构语句，mybatis用到的xml都发一下。你发一部分没法确认  
   
> 16:59:04  张海亮-中化-高级JAVA-北京  
   
尴尬  
   
> 16:59:44  张海亮-中化-高级JAVA-北京  
   
欺负我对mybatis 源码不熟，我现在参照mybatis-plus源码，弄得。这样就可以  
   
> 16:59:46  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 16:59:46](http://static.cocolian.cn/img/201808/20180809_165946.png) 
   
> 17:00:24  张海亮-中化-高级JAVA-北京  
   
所以不要给我提供解决方案  
   
> 17:00:32  张海亮-中化-高级JAVA-北京  
   
我想知道原理  
   
> 17:01:58  刘超-美利金融-支付攻城狮  
   
额配置了sping的事务了吗  
   
> 17:02:04  刘超-美利金融-支付攻城狮  
   
项目  
   
> 17:02:24  王自强-百氪汇-研发-南京  
   
给我看看你的sqlSessionTemplate怎么来的  
   
> 17:03:05  王自强-百氪汇-研发-南京  
   
你这样生效，说明用的是spring的事务管理，  
   
> 17:03:30  刘超-美利金融-支付攻城狮  
   
??  
   
> 17:03:37  张海亮-中化-高级JAVA-北京  
   
是啊。为什么编程式事务不可以  
   
> 17:03:48  王自强-百氪汇-研发-南京  
   
![2018-08-09 17:03:48](http://static.cocolian.cn/img/201808/20180809_170348.png) 
   
> 17:04:07  王自强-百氪汇-研发-南京  
   
spring bean装载的吧  
   
> 17:04:31  张海亮-中化-高级JAVA-北京  
   
springboot  
   
> 17:04:32  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 17:04:32](http://static.cocolian.cn/img/201808/20180809_170432.png) 
   
> 17:04:40  梁流威-头条支付  
   
![2018-08-09 17:04:40](http://static.cocolian.cn/img/201808/20180809_170440.png) 
   
> 17:04:44  张海亮-中化-高级JAVA-北京  
   
还需要看啥  
   
> 17:04:55  梁流威-头条支付  
   
如果是由Spring管理，是不能直接用session来操作  
   
> 17:05:13  梁流威-头条支付  
   
你刚刚那套操作，是单独使用 mybatis情况下才有效  
   
> 17:06:13  张海亮-中化-高级JAVA-北京  
   
貌似靠谱  
   
> 17:06:15  张海亮-中化-高级JAVA-北京  
   
我看下  
   
> 17:08:31  张海亮-中化-高级JAVA-北京  
   
但是并没有出现你说的那个异常，我先试下  
   
> 17:10:22  刘超-美利金融-支付攻城狮  
   
![2018-08-09 17:10:22](http://static.cocolian.cn/img/201808/20180809_171022.png) 
   
> 17:10:33  梁流威-头条支付  
   
你试下再有 @Tranactionnal的情况下  调用  session.commit  
   
> 17:11:03  阿茂-百联（离职）-研发  
   
[知乎 | 如何看待摩拜前端负责人小春(张耀春)的负面爆料？](http://www.zhihu.com/question/289146339?utm_source=wechat_session&amp;amp;amp;utm_medium=social&amp;amp;amp;utm_oi=38574607040512)  
   
> 17:11:47  王自强-百氪汇-研发-南京  
   
不要使用spring自动装在，构造自己的sqlsessionfactory，  
   
> 17:16:53  张海亮-中化-高级JAVA-北京  
   
怎么构造自己的sqlsession  
   
> 17:17:37  梁流威-头条支付  
   
都用了spring-boot了，就按照spring的规范来就行了  
   
> 17:17:54  张海亮-中化-高级JAVA-北京  
   
另外我觉得那个有点问题。如果用spring sqlsession,不能直接用spring 注入的mapper，但是我这里mapper是通过sqlsession.getMapper获取的  
   
> 17:18:06  张海亮-中化-高级JAVA-北京  
   
@梁流威-头条   
   
> 17:19:23  梁流威-头条支付  
   
mapper 可以直接autowired进来  
   
> 17:20:19  梁流威-头条支付  
   
前提是你用了 @MapperScan 这个注解  
   
> 17:22:19  张海亮-中化-高级JAVA-北京  
   
再这，我那个为什么insert后，没有直接入库呢。如果按你说的，它应该直接入库，而不是等到我commit时  
   
> 17:22:49  张海亮-中化-高级JAVA-北京  
   
我可以简单改下，不用sqlsession 获取，直接用mapper.insert  
   
> 17:23:02  张海亮-中化-高级JAVA-北京  
   
就知道你说的对不对了  
   
> 17:25:26  朱海申-爱贝-研发  
   
![2018-08-09 17:25:26](http://static.cocolian.cn/img/201808/20180809_172526.png) 
   
> 17:25:27  朱海申-爱贝-研发  
   
跟batch的sql提交时机有关系  
   
> 17:26:11  张海亮-中化-高级JAVA-北京  
   
已经测试。直接换成mapper.insert.就直接入库了  
   
> 17:26:17  张海亮-中化-高级JAVA-北京  
   
@梁流威-头条   
   
> 17:27:23  张海亮-中化-高级JAVA-北京  
   
执行第一条过了，就已经入库了。但是我sqlsession.getMapper的就不是，说明他们不是一个mapper  
   
> 17:27:24  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 17:27:24](http://static.cocolian.cn/img/201808/20180809_172724.png) 
   
> 17:27:25  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 17:27:25](http://static.cocolian.cn/img/201808/20180809_172725.png) 
   
> 17:28:36  王自强-百氪汇-研发-南京  
   
![2018-08-09 17:28:36](http://static.cocolian.cn/img/201808/20180809_172836.png) 
   
> 17:28:41  王自强-百氪汇-研发-南京  
   
我的做法，  
   
> 17:29:18  王自强-百氪汇-研发-南京  
   
比直接操作sqlsession简单点。加入spring bean管理，就能访问同样spring bean管理的mapper。  
   
> 17:29:30  梁流威-头条支付  
   
直接用spring那套吧，就算是编程式事务，spring也有提供的  
   
> 17:29:48  王自强-百氪汇-研发-南京  
   
分批提交。  
   
> 17:29:49  王自强-百氪汇-研发-南京  
   
![2018-08-09 17:29:49](http://static.cocolian.cn/img/201808/20180809_172949.png) 
   
> 17:29:52  hobbit-待业-广州  
   
你现在是待提交的数据里面,就有冲突是吗?不是跟库里面里面本事的数据有冲突是吗?  
   
> 17:30:07  hobbit-待业-广州  
   
你现在是待提交的数据里面,就有冲突是吗?不是跟库里面的数据有冲突是吗?  
   
> 17:32:13  王自强-百氪汇-研发-南京  
   
你可以用同样的方式来管理sqlsessiontemplate。  
   
> 17:33:16  张海亮-中化-高级JAVA-北京  
   
是的库里是空的。待提交里有冲突  
   
> 17:35:30  张海亮-中化-高级JAVA-北京  
   
@王自强-百氪汇-研发-南京 你这个是设置point  
   
> 17:37:11  张海亮-中化-高级JAVA-北京  
   
@梁流威-头条 那套是那套，应该就是我写的这个吧  
   
> 17:37:32  老汪-阿尔法-鼓励师-江苏  
   
[捂脸]你这是要定制mybatis？  
   
> 17:38:20  张海亮-中化-高级JAVA-北京  
   
@王自强-百氪汇-研发-南京 他这个应该可以  
   
> 17:39:45  张海亮-中化-高级JAVA-北京  
   
![2018-08-09 17:39:45](http://static.cocolian.cn/img/201808/20180809_173945.png) 
   
> 17:39:46  张海亮-中化-高级JAVA-北京  
   
我现在这样是可行的。不知道有没有隐患。目前测试没问题  
   
> 17:40:03  张海亮-中化-高级JAVA-北京  
   
确实也是批量提交  
   
> 17:40:18  梁流威-头条支付  
   
1. @Transactional 注解开发 2.TransactionTemplate  3.自强兄图里面的方法  
   
> 17:41:43  老汪-阿尔法-鼓励师-江苏  
   
@Transactional 注解开发有啥问题？  
   
> 17:46:30  老汪-阿尔法-鼓励师-江苏  
   
[流汗]好吧，刚看了一下楼上的代码，接入层没有封装？  
   
> 17:54:34  张海亮-中化-高级JAVA-北京  
   
@老王-阿尔法-鼓励师-湖南 啥意思  
   
> 17:55:44  老汪-阿尔法-鼓励师-江苏  
   
没啥，以前用过一段时间mybatis，感觉你这代码写得有点原始而已  
   
> 17:56:14  张海亮-中化-高级JAVA-北京  
   
尴尬  
   
> 17:56:35  张海亮-中化-高级JAVA-北京  
   
主要麻烦大家了。我自己跟跟源码  
   
> 17:57:17  老汪-阿尔法-鼓励师-江苏  
   
[呲牙]开个玩笑，嫑当真哈  
   
> 18:06:25  张海亮-中化-高级JAVA-北京  
   
没事  
   
> 18:07:24  张海亮-中化-高级JAVA-北京  
   
主要不想用for each.每个表还得都生成。另外量大了，sql语句太大。它那个是拼起来的。  
   
> 18:09:11  风兮-Java技术-上海  
   
你可以在外部循环控制foreach的大小  
   
> 18:11:40  风兮-Java技术-上海  
   
![2018-08-09 18:11:40](http://static.cocolian.cn/img/201808/20180809_181140.png) 
   
> 18:12:04  风兮-Java技术-上海  
   
hello，咨询下。我这个是否有问题呢  
   
> 18:52:23  XZ-中金-产品  
   
有拿小程序做过反扫的同学吗  
   
