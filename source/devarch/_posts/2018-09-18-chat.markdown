---
layout:     source 
title:      "2018-09-18-WeChat"
date:       2018-09-18 12:00:00
author:     DON-通联-研发
lines:      243 
tag:       [chat]
---
> 01:34:43  张冀～众信～需要通道～福建  
   
签到  
   
> 11:06:35  达达-消金-开发  
   
@北京一张泽雄   张总好，这个应该是你吧  
   
> 15:13:26  黎明-金投-项目-杭州  
   
![2018-09-18 15:13:26](http://static.cocolian.cn/img/20180918_151326.png) 
   
> 15:52:30  Michael-海尔-PM-重庆  
   
@北京一张泽雄?张总.张老师.  
   
> 15:54:39  杜雷-生物认证支付-技术  
   
张教授，于教授都在我们群里啊  
   
> 15:56:12  北京一张泽雄  
   
@达达-CYWB-开发 是的  
   
> 15:57:06  北京一张泽雄  
   
@Michael-海尔-PM-重庆 杨总去海尔了？怪不得说找到了合适的团队  
   
> 15:57:38  Michael-海尔-PM-重庆  
   
@北京一张泽雄?不扯这些，捧你场呢  
   
> 15:57:57  右军-蚂蚁金服-成都  
   
人传人分享 还要完成任务，大家的动力大吗  
   
> 15:58:03  右军-蚂蚁金服-成都  
   
![2018-09-18 15:58:03](http://static.cocolian.cn/img/20180918_155803.png) 
   
> 15:58:09  北京一张泽雄  
   
@Michael-海尔-PM-重庆  杨总厉害  
   
> 15:59:11  Michael-海尔-PM-重庆  
   
毛线，扯开话题，谁不知道张总螃蟹做的好.  
   
> 15:59:52  百联-田浩沛  
   
谢谢 于老师  
   
> 16:00:09  上海睿民-陈帅康-项目经理  
   
怎么画风突变  
   
> 16:00:39  上海睿民-陈帅康-项目经理  
   
这群也需要商业互捧了么[偷笑]  
   
> 16:01:35  老汪-阿尔法-鼓励师-江苏  
   
这群是互撕群  
   
> 16:02:16  右军-蚂蚁金服-成都  
   
支持本群分享 不用做任务发朋友圈  
   
> 16:02:31  百联-田浩沛  
   
哈哈  
   
> 16:02:47  百联-田浩沛  
   
互相吹捧比互相撕逼好多了  
   
> 16:04:02  百联-田浩沛  
   
以前我有个同事，离职的时候，老板说，人捧人高，出去以后别说公司坏话，结果他刚走，老板就在公司说他坏话，给我同事气的，于是也说老板坏话，老板很受伤，何必呢  
   
> 16:04:26  拉卡拉-市场-老孙  
   
正常  
   
> 16:04:31  拉卡拉-市场-老孙  
   
不过这个圈子不大  
   
> 16:05:17  百联-田浩沛  
   
他们都是支付圈十几年的人了，何必呢，不像我，我在支付圈就两年，不怕人说坏话，也不怕说人坏话  
   
> 16:05:20  百联-田浩沛  
   
哈哈哈  
   
> 16:05:53  百联-田浩沛  
   
他一顿坏话，公司断了几根通道，哈哈哈哈  
   
> 16:06:12  上海睿民-陈帅康-项目经理  
   
田总已经不能用某个圈子来形容了，整个市场都知道田总  
   
> 16:06:21  拉卡拉-市场-老孙  
   
![2018-09-18 16:06:21](http://static.cocolian.cn/img/20180918_160621.png) 
   
> 16:06:24  百联-田浩沛  
   
老板也是脑残，不看看他是谁，毕竟是人行出来的  
   
> 16:06:35  拉卡拉-市场-老孙  
   
今天有人去开会么  
   
> 16:06:37  杨宽-比特大陆-区块链理疗师-bj  
   
田总格局高  
   
> 16:07:02  黎明-金投-项目-杭州  
   
田总的格局[强]  
   
> 16:08:05  百联-田浩沛  
   
[流泪]  
   
> 16:09:18  陈磊-长江银行-电银部-江苏  
   
田总还收小弟么。  
   
> 16:09:20  陈磊-长江银行-电银部-江苏  
   
我来  
   
> 16:10:12  阿茂-百联（离职）-研发  
   
好像当一个纯码农啊  
   
> 16:10:17  阿茂-百联（离职）-研发  
   
好想  
   
> 16:10:18  百联-田浩沛  
   
我就是小弟  
   
> 16:10:23  百联-田浩沛  
   
我现在想找老大了  
   
> 16:10:48  百联-田浩沛  
   
@阿茂-百联（离职）-研发 走出舒适区，不要想着一招吃到老  
   
> 16:10:53  百联-田浩沛  
   
该面对的，早晚面对  
   
> 16:11:25  阿茂-百联（离职）-研发  
   
[撇嘴]  
   
> 16:11:28  百联-田浩沛  
   
撕逼是常态，有输有赢，和开发软件一样，有会的，有不会的，有不会学会的，也有永远也学不会的，淡定！！！  
   
> 16:11:46  百联-田浩沛  
   
但是没有天生就会的  
   
> 16:12:20  Seven~乾道~产品~北京  
   
撕逼 只是沟通的一面，不能总强调撕逼  
   
> 16:14:11  百联-田浩沛  
   
一切矛盾的解决，都可以归结为撕逼，撕逼很多种方式，委婉型，温柔型，跪舔型，霸王型，扑倒型，捣糨糊型，拖延型，总之，只好会撕，总是能走的，但是也总有撕输了的时候  
   
> 16:14:44  smartwave-开科支付-成都  
   
[强]  
   
> 16:15:33  百联-田浩沛  
   
输了不丢人，输了不愿意总结提高，还不服气技不如人，那就是个人问题了  
   
> 16:17:03  smartwave-开科支付-成都  
   
一个需求，从需求分析到方案落地再到设计开发测试，撕逼讨论到方案落地 差不多就6天。 剩下3天开发，一天测试。  
   
> 16:18:58  百联-田浩沛  
   
这个不算极端，有的功能，开发一天，但是涉及的面太广，评估就得一个礼拜，原先架构有问题，没有办法，那个小组不会撕逼，就累死，累死也干不好  
   
> 16:19:25  百联-田浩沛  
   
这种情况，要不就学会撕逼，要不就把架构改掉，还能有啥好办法  
   
> 16:20:40  Seven~乾道~产品~北京  
   
撕逼是个人态度，方法和应对。不是本质。我们做产品不是为了撕逼，是为了解决问题，为啥解决问题到了最后都成了撕逼。也许撕逼不可避免，但是都是被动的，最终的，没办法的选择，如果可以，不要挂念撕逼。  
   
> 16:21:05  百联-田浩沛  
   
这个看公司氛围了  
   
> 16:21:13  百联-田浩沛  
   
确实不能一概论之  
   
> 16:21:48  百联-田浩沛  
   
不过，可能我倒霉，我见过的大部分团队和团队的关系，都是从理念之争，进化到利益之争，最后基本是意气之争了，哈哈  
   
> 16:22:16  Seven~乾道~产品~北京  
   
看个人，一个有能力的人是有个人人格，荣誉，和气场的。不为外界轻易撼动。我们可以最后找方法，找工具，不要总撕逼。撕逼很常见，但是不正常。  
   
> 16:22:27  smartwave-开科支付-成都  
   
撕逼 换句话说 就是口活， 口活  是技术人一直忽略的问题，但是一个业务的最终实现， 都需要口活的沟通， 光有口活不懂技术， 在产品设计还好， 可以让产品不受技术的局限，但是像这种传统行业的IT领域，如果光有口活，不懂技术实现， 会让项目的成型脱离控制。  
   
> 16:22:30  Seven~乾道~产品~北京  
   
不要拿流行的，当对的  
   
> 16:23:23  百联-田浩沛  
   
你说的对，把问题合理化，也就失去了解决问题的动力和方向  
   
> 16:24:04  百联-田浩沛  
   
只是面临现实问题，有太多的无奈和限制吧，改变可以改变的，接受不可以改变的，不能接受了，换地方去也!  
   
> 16:24:12  Seven~乾道~产品~北京  
   
撕逼就跟大声呐喊，吵架，动拳头一样，都是内虚外“实”的表现。希望我们都向更高的方向发展，在每一次沟通中解决问题，反思问题。  
   
> 16:24:40  阿茂-百联（离职）-研发  
   
老是被小事情打断 怎么破？  
   
> 16:24:52  阿茂-百联（离职）-研发  
   
各位大佬  
   
> 16:25:15  百联-田浩沛  
   
沟通这个问题，不仅看自己，也看对方，有时候对方实在在low，没法讲道理，也只好以力量压迫了  
   
> 16:25:53  百联-田浩沛  
   
你的小事情，是因为你工作的东西有瑕疵，所以老有人找，还是没建立合理的沟通机制，所以他只是随时来找你呢？  
   
> 16:26:35  百联-田浩沛  
   
我建议的做法是，有产品助理和测试助理工程师对接业务部门，开发人员不做一线技术支持，  
   
> 16:27:07  百联-田浩沛  
   
要是你的软件bug太多，所以有人找，那没办法了  
   
> 16:27:57  阿茂-百联（离职）-研发  
   
[尴尬]  
   
> 16:28:03  Seven~乾道~产品~北京  
   
什么是小事情，什么是大事情？  
   
> 16:28:38  Seven~乾道~产品~北京  
   
什么是自己的事情，什么是别人的事情。被打断，为何被别人打断，为何别人需要你。  
   
> 16:28:38    
   
> 16:28:55  北京一张泽雄  
   
弄个秘书就搞定了  
   
> 16:29:05  北京一张泽雄  
   
小秘书先分一下级  
   
> 16:29:44  北京一张泽雄  
   
一个秘书不行，就上两个，两个不行就上多个。。。  
   
> 16:29:55  百联-田浩沛  
   
比如你在安心写代码，突然有人问，阿茂，这个颜色能不能改成红色，阿茂，做个报表方便不？这就是小事情，如果是突然告诉你，系统不能访问了，订单错乱了，突然重复付款了，这个是大事情  
   
> 16:31:13  北京一张泽雄  
   
这些不都是找负责人吗？  
   
> 16:31:16  阿茂-百联（离职）-研发  
   
系统崩了，老板来了 都不理他  
   
> 16:31:35  百联-田浩沛  
   
开发人员最好有整块的时间去做开发，这样效率高，把计划排期，需求确认，这些安排到固定的时间统一处理掉  
   
> 16:31:52  北京一张泽雄  
   
阿茂，让田总给你配个秘书  
   
> 16:31:54  百联-田浩沛  
   
你都这么牛了，还是什么小事情敢烦扰你  
   
> 16:31:55  百联-田浩沛  
   
![2018-09-18 16:31:55](http://static.cocolian.cn/img/20180918_163155.png) 
   
> 16:31:55  百联-田浩沛  
   
哈哈  
   
> 16:32:24  百联-田浩沛  
   
邮件也只是闲的时候，看看，通常邮件的事情都不紧急  
   
> 16:33:05  阿茂-百联（离职）-研发  
   
从心底 还是想写一会代码  
   
> 16:33:44  百联-田浩沛  
   
不要追求那种，没我不行的虚假荣誉感，我以前被业务部门求着去写个SQL导个报表都觉得自己狠重要，太扯淡了，哈哈哈  
   
> 16:33:59  北京一张泽雄  
   
我一般只有别人都走了，自己加班的时候，才有机会自己写代码。  
   
> 16:34:45  北京一张泽雄  
   
事情要分级处理  
   
> 16:35:19  百联-田浩沛  
   
后来我的继任者更变态，业务部门导数据只能找他，要是找了别人，他很不开心，于是现在时间过去快十年了，他还是个数据库工程师，唉，也不知道他怎么想的，  
   
> 16:35:34  北京一张泽雄  
   
重要&amp;amp;紧急  重要不紧接，不重要紧急，不重要不紧急四类  
   
> 16:36:05  阿茂  
   
感觉jira用起来 都是假的。明明jira上面写的清清楚楚、排期，计划 ，安排  进度  非要当面问你，不行还得开会拉着你  
   
> 16:36:36  百联-田浩沛  
   
技术人员觉得清楚，和业务人员认为的清楚不一样  
   
> 16:37:03  北京一张泽雄  
   
项目经理被杀了吃了吗？  
   
> 16:37:26  百联-田浩沛  
   
我自己做技术支持的时候，和我同组的人和我区别就比较大，我一年最多的时候，写800多条，接到电话咨询的最多两三条，他一年写300条，但是基本都被电话过来询问  
   
> 16:37:36  阿茂-百联（离职）-研发  
   
每次上线害的写上线报告，我每次上线jira都会发布一次任务，自己不会看啊。  
   
> 16:37:49  百联-田浩沛  
   
你自己看看，是不是你写的有问题    
   
> 16:37:59  百联-田浩沛  
   
技术人员的表达能力，通常是硬伤  
   
> 16:38:08  百联-田浩沛  
   
你好好看看自己写的  
   
> 16:38:16  北京一张泽雄  
   
JIRA不是可以同时发邮件吗？  
   
> 16:38:19  百联-田浩沛  
   
技术人员觉得清楚，和读者认为的清楚，一般是有区别的  
   
> 16:38:33  北京一张泽雄  
   
领导一般不会上JIRA的  
   
> 16:38:42  Codefor-YMT-TechLead-BJ  
   
写上线报告是流程的一部分吧。我们开发流程里是有的。至于说要不要自动化，那是实现手段。  
   
> 16:39:09  阿茂-百联（离职）-研发  
   
整天都是这些问题。  
   
> 16:39:53  阿茂-百联（离职）-研发  
   
好多次我都想在座位上贴一个“先看jira”  
   
> 16:39:54  北京一张泽雄  
   
我们的信贷业务数据，除了BOSS平台上可以看到，每天早上都会mail给相关人。  
   
> 16:41:23  百联-田浩沛  
   
找个测试的，或者技术支持的，顶在前面，然后你复盘下，他们来找你的，都是具体什么问题，是不是你没说清楚  
   
> 16:41:53  阿茂-百联（离职）-研发  
   
我还发现个问题。jira系统自动发的邮件都不看，你手动发的才会看。  
   
> 16:42:13  阿茂-百联（离职）-研发  
   
我甚至看到有的人直接把jira邮件 屏蔽了  
   
> 16:43:51  北京一张泽雄  
   
[流汗] 这种情况下你就可以怼他了  
   
> 16:44:10  北京一张泽雄  
   
估计是垃圾邮件太多了  
   
> 16:45:33  阿茂-百联（离职）-研发  
   
那些人下意识总是觉得  当面确认才放心  
   
> 16:47:43  阿茂-百联（离职）-研发  
   
每天花一堆时间写jira 感觉是给自己看的。  
   
> 16:47:54  百联-田浩沛  
   
这个我以前的做法是这样的，专门手工发个邮件，说明问题，修改了那些，新增了那些，有问题找谁，非技术部门对这种JIRA很不敏感的  
   
> 16:48:13  百联-田浩沛  
   
JIRA主要还是给客服和技术用吧  
   
> 16:48:19  阿茂-百联（离职）-研发  
   
哎，，  
   
> 16:48:21  百联-田浩沛  
   
别想在公司级别用  
   
> 16:48:47  帅慧-数据-产品  
   
「阿茂-百联（离职）-研发：每天花一堆时间写jira 感觉是给自己看的。」 - - - - - - - - - - - - - - - 深有同感  
   
> 16:49:58  阿茂-百联（离职）-研发  
   
“人和动物的根本区别就是会使用生产工具” 这个是初一政治的名言啊  
   
> 16:50:23  百联-田浩沛  
   
邮件不是生产工具么？  
   
> 16:50:26  百联-田浩沛  
   
电话不是么  
   
> 16:50:42  百联-田浩沛  
   
这个东西，对于你们是生产者，业务部门是消费者  
   
> 16:50:50  阿茂-百联（离职）-研发  
   
[流汗]  
   
> 16:50:51  百联-田浩沛  
   
这个东西，肯定是以消费者为中心呀  
   
> 16:50:59  百联-田浩沛  
   
你这样想，是你自己的问题，不是业务部门的问题  
   
> 16:51:50  百联-田浩沛  
   
你这样的想法，和那些辛苦做了一堆，没有卖出去的产品，然后埋怨消费者不识货的企业，好像没区别，哈哈哈  
   
> 16:52:07  百联-田浩沛  
   
都是出来卖的，为什么别人可以卖出去  
   
> 16:53:21  阿茂-百联（离职）-研发  
   
跪了  
   
> 16:53:33  洋洋-点融-开发  
   
都离职了 还不放过  
   
> 16:53:51  杨宽-比特大陆-区块链理疗师-bj  
   
@阿茂-百联（离职）-研发 你是十年前的，田总说的那个[坏笑]  
   
> 16:54:38  百联-田浩沛  
   
哈哈，不是，小叶还是很牛的，java底子非常好，我没见过几个可以比的，就是内向老实了一些，还需要锻炼  
   
> 16:55:05  杨宽-比特大陆-区块链理疗师-bj  
   
田总很委婉  
   
> 16:56:23  达达-消金-开发  
   
田总口才不错  
   
> 16:56:49  百联-田浩沛  
   
别呀，我口活儿不行！  
   
> 17:39:45    
   
> 17:40:28  Daniel-快钱-架构  
   
139移动邮箱做得好烂，下载一个电子发票，半天打不开邮件  
   
> 18:43:04  丁丁-群管理  
   
欢迎欢迎[鼓掌][鼓掌][鼓掌]  
   
> 18:43:06  丁丁-群管理  
   
签到  
   
> 18:43:06  丁丁-群管理  
   
今天请到一位朋友，@DON-通联-研发    给大家做分享，主题是 “利于GC的编码” 开始时间为【19:30】；欢迎欢迎[鼓掌][鼓掌][鼓掌]！（注： 1.嘉宾分享期间其他人不要发言打断嘉宾分享。2.分享完成后请大家积极补充和提问；3.烦请打“签到”，做签到，谢谢！)  
   
> 18:43:36  smartwave-开科支付-成都  
   
签到  
   
> 18:43:36  姜桥-摩拜单车-技术  
   
签到  
   
> 18:44:31  黄伟光-通联支付-产品技术  
   
签到  
   
> 18:44:32  王兵-北京梧桐树-技术  
   
签到  
   
> 18:46:06  优行-钰火-杭州  
   
签到  
   
> 18:47:13  平湖-平安-支付开发  
   
签到  
   
> 18:47:13  杨杰-康城投资-开发-上海  
   
签到  
   
> 18:47:41  XZ-中金-产品  
   
签到  
   
> 18:47:45  上海-上海中钢银联通-董路-技术  
   
签到  
   
> 18:48:36  鲁权-三湘银行-产品-长沙  
   
签到  
   
> 18:49:03  胡伟宏-讯联智付-产品-深圳  
   
签到  
   
> 18:49:32  tonny-csii-pl-北京  
   
签到  
   
> 18:49:42  梁考拉-博时-资金清算-北京  
   
签到  
   
> 18:50:51  Codefor-YMT-TechLead-BJ  
   
签到  
   
> 18:51:05  哈哈贷-王信威  
   
签到  
   
> 18:51:28  Seven~乾道~产品~北京  
   
签到  
   
> 18:52:39  丹丹-中移信息-产品  
   
签到  
   
> 18:55:16  Nancy-京东-产品-北京  
   
签到  
   
> 18:57:56  班纳睿-RRD-Java开发-北京  
   
签到  
   
> 18:58:55  Ying-小米支付-合规-北京  
   
签到  
   
> 19:00:06  zijun-财付通  
   
签到  
   
> 19:01:25  dreamup-平安-产品  
   
签到  
   
> 19:01:34  海锋-合利宝-研发-广州  
   
签到  
   
> 19:02:07  永明-云账户-开发-北京  
   
签到  
   
> 19:02:16  李伟 聚合 开发  
   
签到  
   
> 19:04:57  冷兴孜-渠道支付-研发  
   
签到  
   
> 19:05:52  刘金霖-宝付-开发-上海  
   
签到  
   
> 19:07:18  秦红胜-共致开源-架构师  
   
签到  
   
> 19:07:36  Tammy-融宝支付-产品-北京  
   
签到  
   
> 19:07:47  王晓强-绿地金控-技术-上海  
   
签到  
   
> 19:08:00  弋碎-国美-产品  
   
签到  
   
> 19:08:04  洋洋-点融-开发  
   
签到  
   
> 19:08:08  姚远-宜信-开发-北京  
   
签到  
   
> 19:09:09  成都-果小美-千山  
   
签到  
   
> 19:10:31  顺强-易付-开发-北京  
   
签到  
   
> 19:10:40  Alex ?? 深圳普尔瀚达@产品  
   
签到  
   
> 19:10:50  姚磊-麦子-开发  
   
签到  
   
> 19:12:28  吕波-融投世界科技-技术总监-沈阳  
   
签到  
   
> 19:14:09  韩国才-软通动力-java开发  
   
签到  
   
> 19:14:24  通联支付-产品-符音-深圳  
   
签到  
   
> 19:16:25  风兮-Java技术-上海  
   
签到  
   
> 19:16:42  李胜勇-永乐-G-北京  
   
签到  
   
> 19:17:55  张岩-华恒科技-商务-吉林  
   
签到  
   
> 19:21:12  杜雷-生物认证支付-技术  
   
签到  
   
> 19:21:36  张虎成—云快报—上海–研发  
   
签到  
   
> 19:23:37  郑宇贤-惠丰-支付产品-广州  
   
签到  
   
> 19:25:36  龚尚-小度科技-研发-北京  
   
签到  
   
> 19:26:17  蔡郑豪-统统付-开发  
   
签到  
   
> 19:26:59  涂智明-科蓝-开发-北京  
   
签到  
   
> 19:27:38  吴振方-阿里巴巴-技术专家  
   
签到  
   
> 19:29:13  DON-通联-研发  
   
时间差不多了，现在开始吧  
   
> 19:29:25  DON-通联-研发  
   
大家好，我是通联的研发DON 今天我为大家分享的内容是《利于GC的编码》 内容比较简单，有不合理的地方欢迎指正  
   
> 19:29:41  DON-通联-研发  
   
JVM每个java程序员都认识，这里不做拓展  
   
> 19:30:00  DON-通联-研发  
   
? JVM具有高效的创建和回收对象的能力，喜好 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 小对象 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 生命周期短 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 不改变指向的对象 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 对生命周期短的对象，GC回收高效（新生代的复制算法，不需要扫描和复制就能回收）  
   
> 19:30:43  DON-通联-研发  
   
? 切勿滥用对象池，否则对象池不一定能提高性能，反倒会影响 GC效率  
   
> 19:30:58  DON  
   
–&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 一般程序猿都有一个误区，总是动不动就使用对象池作为缓冲 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 什么时候用对象池？  
   
> 19:31:23  DON  
   
–&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 创建对象的开销较大 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 涉及到DB/IO/Network等紧张资源的对象创建  
   
> 19:31:52  DON-通联-研发  
   
–&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 对象池生命周期长，每次full gc都要处理(mark, compact, etc) –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 涉及多线程共享问题，对象池可能带来同步等额外开销 –&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 容易产生内存泄漏  
   
> 19:32:27  DON-通联-研发  
   
? 当使用HashMap时，尽量减少resize   
   
> 19:33:00  DON-通联-研发  
   
– 减少resize可以避免没有必要的array copying, gc碎片等问题   
   
> 19:33:14  DON-通联-研发  
   
一起来看看hashMap源码  
   
> 19:33:32  DON-通联-研发  
   
![2018-09-18 19:33:32](http://static.cocolian.cn/img/20180918_193332.png) 
   
> 19:33:32  DON  
   
新增元素的源码   
   
> 19:33:56  DON-通联-研发  
   
达到阀值时进行了resize，HashMap翻倍  
   
> 19:34:08  DON-通联-研发  
   
![2018-09-18 19:34:08](http://static.cocolian.cn/img/20180918_193408.png) 
   
> 19:34:34  DON-通联-研发  
   
![2018-09-18 19:34:34](http://static.cocolian.cn/img/20180918_193434.png) 
   
> 19:34:49  DON-通联-研发  
   
扩容后，HashMap会重新将元素按照hash算法插入  
   
> 19:35:29  DON-通联-研发  
   
在new ArrayList时，尽量估算size，在创建的时候把size确定 ，如果依赖于动态分配，每次分配是最大长度的1.5倍，会造成资源浪费，也会影响GC的效率  
   
> 19:36:32  DON-通联-研发  
   
对于只需要顺序访问，不需要随机访问的List，用LinkedList代替ArrayList ，因为LinkedList本质是链表  
   
> 19:38:00  DON-通联-研发  
   
所以我们尽量预测集合的容量  
   
> 19:38:16  DON-通联-研发  
   
接下来我们扯一下内存泄漏  
   
> 19:38:38  DON  
   
java不是有自动回收内存吗？不需要关注内存呀？ 错，大错特错  
   
> 19:38:52  DON-通联-研发  
   
用通俗的话来描述一下Java的内存泄漏  
   
> 19:39:12  DON-通联-研发  
   
在有限的空间内，存满了有用和无用的东西，GC无法分清哪些是有用的，哪些是没有用的，无法进行清理  
   
> 19:40:18  DON-通联-研发  
   
Java内存泄漏类型 （自己划分，不一定权威） – 累计：Heap不断变大，直到OOM – 临时：Heap临时/瞬间变得很大，在某个时刻会突然发很小，导致频繁Full GC  
   
> 19:40:44  DON-通联-研发  
   
Java内存泄漏的几个经典原因   
   
> 19:41:01  DON-通联-研发  
   
1、对象定义在错误的范围  
   
> 19:41:16  DON-通联-研发  
   
接下来看一个例子  
   
> 19:41:19  DON-通联-研发  
   
![2018-09-18 19:41:19](http://static.cocolian.cn/img/20180918_194119.png) 
   
> 19:42:13  DON-通联-研发  
   
2、异常(Exception)处理不严谨，导致资源没有释放  
   
> 19:42:54  DON-通联-研发  
   
例如DB操作时菜鸟经常犯的错误，例子如下  
   
> 19:42:58  DON-通联-研发  
   
![2018-09-18 19:42:58](http://static.cocolian.cn/img/20180918_194258.png) 
   
> 19:43:58  DON-通联-研发  
   
3、没有控制好集合数据的大小  
   
> 19:44:31  DON-通联-研发  
   
4、String 的substring导致内存泄漏（1.5的问题，我本地的1.6版本已经不存在该问题，1.7以后肯定是没有问题）  
   
> 19:44:57  DON  
   
错误写法   
   
> 19:44:57  DON-通联-研发  
   
![2018-09-18 19:44:57](http://static.cocolian.cn/img/20180918_194457.png) 
   
> 19:45:39  DON  
   
正确写法   
   
> 19:45:39  DON-通联-研发  
   
![2018-09-18 19:45:39](http://static.cocolian.cn/img/20180918_194539.png) 
   
> 19:46:08  DON-通联-研发  
   
减少“+”去拼接String ,尽量使用StringBuilder和StringBuffer  
   
> 19:46:54  DON-通联-研发  
   
? GC调优 （不做拓展） – 分配合适的堆大小  – 采用合适的垃圾回收器   
   
> 19:47:27  DON-通联-研发  
   
? 良好的编程习惯  – 尽量少用静态对象发量  – 避免集中创建对象尤其是大对象  – 不要在经常调用的方法中创建对象  – 应该定义为局部变量，则不要定义为类的变量  – 预估好数据库中查询出的数据量，数据太多，造成OOM 的异常  
   
> 19:48:06  DON-通联-研发  
   
今天的分享先到这里，内容比较简单，很荣幸能和大家互相学习！  
   
> 19:50:30  Eric-Silot-SG  
   
签到  
   
> 19:50:46  Eric-Silot-SG  
   
然后点赞碵强][强]  
   
> 19:51:02  李秀刚-TRHUI-鼓励师  
   
[强]  
   
> 19:51:05  Eric-Silot-SG  
   
4、String 的substring导致内存泄漏（1.5的问题，我本地的1.6版本已经不存在该问题，1.7以后肯定是没有问题）  
   
> 19:51:23  Eric-Silot-SG  
   
这个现在应该没有了吧？  
   
> 19:51:33  Eric-Silot-SG  
   
基本都1.8了吧  
   
> 19:51:42  DON-通联-研发  
   
是的  
   
> 19:51:50  smartwave-开科支付-成都  
   
@DON-通联-研发? 干货 谢谢分享  
   
> 19:52:06  Eric-Silot-SG  
   
一直想用10可惜prod只能1.8  
   
> 19:54:26  风兮-Java技术-上海  
   
[强]  
   
> 19:57:15  张杨-航天电子-研发-北京  
   
[强][强][强]  
   
> 19:58:15  王宁-杉德-开发  
   
签到  
   
> 20:37:22  张冀～众信～需要通道～福建  
   
签到[微笑]  
   
> 21:45:05  通联支付-产品-符音-深圳  
   
[强][强][强]  
   
> 22:15:05  梁子龙-维恩贝特-开发  
   
[咖啡]  
   
