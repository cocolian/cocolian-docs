---
layout:     source 
title:      "2018-11-29-WeChat"
date:       2018-11-29 12:00:00
author:     韩国才-软通动力-java开发
lines:      145 
tag:       [chat]
---
> 00:08:43  马银波 -中银金融商务-项目经理  
   
@夜月沉星-易惠科技-产品-福州?通过支付公司嫁接分账产品可以解决资金二清的问题。  
   
> 06:44:52  夜月沉星-国通星驿-产品  
   
那如果卫计委在银行开了户，医院的钱也是银行清算，卫计委的账户代为管理，这样算二清吗？  
   
> 06:45:50  夜月沉星-国通星驿-产品  
   
@Jerry-BOCS-BDM-昆明?这种情况用分账好像挺麻烦，毕竟病人看病情况有很多不确定性  
   
> 07:24:30  王志华_待业_金融系统建设  
   
@夜月沉星-易惠科技-产品-福州?不算二清  
   
> 07:32:53  徐智伟-非常有财-合规-天津  
   
@夜月沉星-易惠科技-产品-福州?属于无证从事支付业务  
   
> 07:34:46    
   
> 07:34:59  wood-通联-技术  
   
国家的能够保证资金安全的，一般不会认定为二清  
   
> 07:35:09  wood-通联-技术  
   
这种例子太多了  
   
> 07:35:25  wood-通联-技术  
   
但是都是这么做的  
   
> 07:35:40  夜月沉星-国通星驿-产品  
   
一般怎么解释比较清楚啦  
   
> 07:35:54  wood-通联-技术  
   
央妈一般也不会管  
   
> 07:35:56  夜月沉星-国通星驿-产品  
   
比较有说服力  
   
> 07:37:17  wood-通联-技术  
   
[央行认定“二清”的标准你知道吗？
](http://mp.weixin.qq.com/s?__biz=MjM5ODMxNzY0MA==&amp;amp;amp;mid=2650919812&amp;amp;amp;idx=3&amp;amp;amp;sn=49de2ac4dceb64d5eee02d5c0a23bd56&amp;amp;amp;chksm=bd39e8a38a4e61b57070f4801ff563ef720483876c34b698e66bb018a2b4ac12d621fb0d49ab&amp;amp;amp;mpshare=1&amp;amp;amp;scene=1&amp;amp;amp;srcid=1129Od3LwJDcexnJl5lTX7Hv#rd)  
   
> 07:37:31  wood-通联-技术  
   
这个是标准的  
   
> 07:38:01  wood-通联-技术  
   
按照你说的这个应该算，但是央行一般不会管  
   
> 07:38:25  wood-通联-技术  
   
第二类是无证经营网络支付业务。一是采取“大商户结算”模式，即用户支付资金先划转至网络平台账户，再由网络平台结算给其平台下挂商户;二是开立类支付账户的电子钱包，具有充值、消费、提现等支付功能。  
   
> 07:38:31  kent--研发  
   
这叫做政府资金托管 例子太多了 房地产预付款监管  二手房买卖资金托管  
   
> 07:38:48  wood-通联-技术  
   
是  
   
> 07:40:49  胡桥-资邦金服-账务核心业务架构  
   
二清主要是打击非法资金池，资金挪做他用，给客户带来潜在危机，你没有证=不受监管=有潜在的跑路风险  
   
> 07:41:52  胡桥-资邦金服-账务核心业务架构  
   
?房地产预付款属于信贷方面，找个时间我来讲一下，那个比支付更复杂  
   
> 07:43:27  Elva-支付产品经理-北京  
   
@胡桥?胡总要个大家做个分享么？[呲牙][呲牙]  
   
> 07:46:27  kent--研发  
   
性质差不多 避免开发商挪用资金项目阑尾 避免中介经手购房款 卷款跑路  
   
> 07:48:53  夜月沉星-国通星驿-产品  
   
原来如此，这些政府性质的业务，和原来自己的二清理解有些出入  
   
> 07:50:25  王志华_待业_金融系统建设  
   
清算持牌机构  
   
> 07:50:33  王志华_待业_金融系统建设  
   
银行与支付机构  
   
> 07:51:15  王志华_待业_金融系统建设  
   
系统内资金算不算二清  
   
> 07:51:21  胡桥-资邦金服-账务核心业务架构  
   
@kent-讯飞-研发?房地产里面还有契约关系，可以打官司  
   
> 07:51:26  盛付通—侯哥  
   
@夜月沉星-易惠科技-产品-福州?谢谢  
   
> 07:52:57  kent--研发  
   
前几年二线城市烂尾楼一堆 人都跑了 打官司找谁 这种基本都是政府找新的接盘方  
   
> 07:53:15  夜月沉星-国通星驿-产品  
   
@盛付通—侯哥?侯哥运气不错[呲牙]  
   
> 07:53:44  胡桥-资邦金服-账务核心业务架构  
   
在交易双方中，如果有一个第三方压根就没参与权益交易，收益权，转让权，使用权。但是他却有一个资金池，交易资金在这个池子里  
   
> 07:53:54  夜月沉星-国通星驿-产品  
   
现在很多政府的智慧城市项目。资金都是这样处理  
   
> 07:53:59  胡桥-资邦金服-账务核心业务架构  
   
没法约束[愉快][愉快][愉快]  
   
> 08:00:05  胡桥-资邦金服-账务核心业务架构  
   
最近看了一本很浅显易懂的经济学的书，适合挤地铁的时候打发时间  
   
> 08:00:11  胡桥-资邦金服-账务核心业务架构  
   
大家要不?  
   
> 08:04:33  北京一张泽雄  
   
保管权？  
   
> 08:05:16    
   
> 08:05:41  北京一张泽雄  
   
有点数据银行的感觉  
   
> 08:06:18    
   
> 08:07:03  胡桥-资邦金服-账务核心业务架构  
   
使用权与所有权分离  
   
> 08:07:18  胡桥-资邦金服-账务核心业务架构  
   
书上是这么写的[憨笑][憨笑][憨笑][憨笑]  
   
> 08:07:52  胡桥-资邦金服-账务核心业务架构  
   
产权=使用权+转让权+收益权  
   
> 08:12:51  北京一张泽雄  
   
@胡桥?给我一份，最近我在做资产权益这块，  
   
> 08:18:14  胡桥-资邦金服-账务核心业务架构  
   
那本书就是科普百科书类似，只能地铁上看看  
   
> 08:18:36  胡桥-资邦金服-账务核心业务架构  
   
![2018-11-29 08:18:36](http://static.cocolian.cn/img/20181129_081836.png) 
   
> 08:23:22  北京一张泽雄  
   
书名叫啥？  
   
> 08:47:02  李凯-潇湘支付-产品  
   
分享一下[呲牙]  
   
> 09:55:00  右军-蚂蚁金服-成都  
   
自组织的一种实现方式  
   
> 09:55:00  右军-蚂蚁金服-成都  
   
[从 Etsy 团队看敏捷架构的设计
](http://mp.weixin.qq.com/s?__biz=MzIxMzEzMjM5NQ==&amp;amp;amp;mid=2651030702&amp;amp;amp;idx=1&amp;amp;amp;sn=3570a277ae725be8644cdca6aeac6713&amp;amp;amp;chksm=8c4c51aabb3bd8bc67a4edea34446bfb311d361cc49d09e9921bf38d6f83b749f8f9aa5ad2fe&amp;amp;amp;mpshare=1&amp;amp;amp;scene=1&amp;amp;amp;srcid=112970LQ3UZ2MXfL551mU48X#rd)  
   
> 10:57:59  陈秋彬-科蓝-产品-深圳  
   
@胡桥?求分享  
   
> 11:05:54  王宁-杉德-开发  
   
各位大神，请教一下，我现在有一组变量，不想让别人反编译看到，有没有什么好的隐藏变量的方法？  
   
> 11:18:39  李秀刚-TRHUI-产品  
   
刚爬楼看完昨晚的精彩分享[抱拳]  
   
> 11:19:13  李秀刚-TRHUI-产品  
   
有个疑问想请教一下，跟渠道对账，需要对订单金额吗？  
   
> 15:49:25  wood-通联-技术  
   
当然  
   
> 15:51:57  合付宝聚合支付&猛士  
   
http://cashier.hefupal.com/paygate/redirect/ODExMjkxMjA0NTQ3MjM1MjcwMjQ2NA==  
   
> 15:52:33  合付宝聚合支付&猛士  
   
谁知道怎么通过浏览器发给微信支付宝  
   
> 16:06:12  朱海申-爱贝-研发  
   
去看微信和支付宝的h5支付文档  
   
> 18:22:07  阿茂-百联（离职）-研发  
   
![2018-11-29 18:22:07](http://static.cocolian.cn/img/20181129_182207.png) 
   
> 18:22:12  阿茂-百联（离职）-研发  
   
这是什么意思  
   
> 18:22:21  阿茂-百联（离职）-研发  
   
自己的钱还不让花了？  
   
> 18:23:50  北京一张泽雄  
   
有钱人啊  
   
> 18:24:17  小孙-58-研发  
   
有钱淫  
   
> 18:25:08  张学鸿-北京-研发-民金所  
   
土豪  
   
> 18:25:36  阿茂-百联（离职）-研发  
   
搞这个限额什么意思??[流汗]  
   
> 18:26:04  李凯-潇湘支付-产品  
   
炫富  
   
> 18:26:27  阿茂-百联（离职）-研发  
   
哪些账户属于零钱统计范围呀  
   
> 18:26:36  颜小刚-爱贝-架构开发-深圳  
   
支付账户三类户的限额吧  
   
> 18:27:22  浅橙现金卡-支付中心-施富宇  
   
![2018-11-29 18:27:22](http://static.cocolian.cn/img/20181129_182722.png) 
   
> 18:27:32  浅橙现金卡-支付中心-施富宇  
   
之前群里大佬分享的  
   
> 18:27:34  wood-通联-技术  
   
支付机构账户一年支付金额最多20万  
   
> 18:28:02  阿茂-百联（离职）-研发  
   
二类户？  
   
> 18:29:04  邹刘名-百联-研发  
   
微信日累计限额我知道    年累计限额貌似是没有的   
   
> 18:29:13  上海睿民-陈帅康-项目经理  
   
有的  
   
> 18:29:17  上海睿民-陈帅康-项目经理  
   
就是20w  
   
> 18:29:27  北京一张泽雄  
   
二类户  
   
> 18:29:41  邹刘名-百联-研发  
   
哈哈  我穷  还没碰到过[捂脸]      
   
> 18:29:59  北京一张泽雄  
   
和你认证渠道个数有关  
   
> 18:29:59  邹刘名-百联-研发  
   
一类户的也有20W限额？   不对吧   
   
> 18:30:09  阿茂-百联（离职）-研发  
   
只是指的微信吗？？  
   
> 18:30:15  wood-通联-技术  
   
支付机构的账户就有  
   
> 18:30:21  wood-通联-技术  
   
支付宝也一样  
   
> 18:30:54  阿茂-百联（离职）-研发  
   
支付宝+微信+其他&amp;lt;=20万   还是微信《=20万？  
   
> 18:31:03  wood-通联-技术  
   
一个钱包  
   
> 18:31:04  wood-通联-技术  
   
20万  
   
> 18:31:16  wood-通联-技术  
   
微信又不知道支付宝花了多少钱。。。  
   
> 18:31:32  颜小刚-爱贝-架构开发-深圳  
   
这个图有左边是银行账户，右边是支付机构账户的。单个支付机构  
   
> 18:31:46  阿茂-百联（离职）-研发  
   
不是有央妈么  
   
> 18:31:55  阿茂-百联（离职）-研发  
   
央妈应该知道吧  
   
> 18:32:06  wood-通联-技术  
   
央妈也没法实时监控  
   
> 18:32:26  邹刘名-百联-研发  
   
央妈现在还不知道你花钱干嘛了  [奸笑]  
   
> 18:33:01  wood-通联-技术  
   
你在群里发个红包，给央妈打个电话，问问央妈知道没？  
   
> 18:33:37  阿茂-百联（离职）-研发  
   
看他这个话术 我以为是 一人为单位  不分账户呢  
   
> 18:34:40  阿茂-百联（离职）-研发  
   
![2018-11-29 18:34:40](http://static.cocolian.cn/img/20181129_183440.png) 
   
> 18:35:44  北京一张泽雄  
   
同一支付机构下所有账户  
   
> 18:38:41  河北大赞 支付 商务  
   
正解  
   
> 18:40:15  阿茂-百联（离职）-研发  
   
自己的钱 还没自由了  
   
> 18:40:23  阿茂-百联（离职）-研发  
   
不想说什么了  
   
> 18:41:22  wood-通联-技术  
   
怕像田总一样，随时准备跑路  
   
> 18:41:26  wood-通联-技术  
   
洗钱风险  
   
> 18:41:38  小孙-58-研发  
   
取出来，用现金，哈哈  
   
> 18:41:48    
   
> 18:42:05  北京一张泽雄  
   
是想把钱限制在银行体系内  
   
> 18:42:17  wood-通联-技术  
   
买基金啥的也无所谓  
   
> 18:48:12  阿茂-百联（离职）-研发  
   
我刚才看了 解决办法  微信说让开通微众银行  
   
> 18:48:25  阿茂-百联（离职）-研发  
   
然后零钱存入货期账户  
   
> 18:48:31  阿茂-百联（离职）-研发  
   
就没限制了  
   
> 18:48:42  阿茂-百联（离职）-研发  
   
活期  
   
> 19:03:07  乔俊翔  
   
零花钱都这么多 [色]  
   
> 19:05:04  tony-阿里巴巴-技术专家  
   
超过20W流水的，就会看到零钱+入口  
   
> 19:10:05  张学鸿-北京-研发-民金所  
   
低调的炫富  
   
> 20:02:20  Elva-支付产品经理-北京  
   
欢迎[鼓掌][鼓掌][鼓掌]  
   
> 20:02:20  Elva-支付产品经理-北京  
   
今天请到一位朋友，@韩国才-软通动力-java开发  给大家做分享，主题是 “spring+powermock+h2单元测试” 开始时间为【20:10】；欢迎欢迎[鼓掌][鼓掌][鼓掌]！（注： 1.嘉宾分享期间其他人不要发言打断嘉宾分享。2.分享完成后请大家积极补充和提问；3.烦请打“签到”，做签到，谢谢！)  
   
> 20:02:21  Elva-支付产品经理-北京  
   
签到  
   
> 20:02:40  梁文辉-中科软-需求-北京  
   
签到  
   
> 20:03:10  邓杰-移联-Java-深圳  
   
签到  
   
> 20:03:27  DON-通联-研发  
   
签到  
   
> 20:05:58  李胜勇-永乐-G  
   
签到  
   
> 20:07:15  j4念勾for-TAL-开发  
   
签到  
   
> 20:07:45  泰康程惠仙  
   
签到  
   
> 20:07:54  韩国才-软通动力-java开发  
   
大家好，我叫韩国才，今天我分享spring+powermock+h2单元测试。 因为网上这样的东西不多，我们公司正好用这个，所以分享一下 我把demo放到了github上， https://github.com/hgc19890423/mock  还有一个powermock的文档 下边我说的都是参照这个来说的，  
   
> 20:08:32  韩国才-软通动力-java开发  
   
这里有个文档是powermock的文档。  
   
> 20:09:08  韩国才-软通动力-java开发  
   
[PowerMock.pdf
]()  
   
> 20:09:43  韩国才-软通动力-java开发  
   
一：什么是powermock  powerMock测试解决的是隔离外部接口对自己项目的影响,比如项目依赖别的项目的接口，或者数据库，powerMock可以自由操作这些依赖， 防止外部对自己的影响，让我们做好自己的事情就好。在 Java 领域已经有如此多的 Mock 框架， 比如 EasyMock，JMock，Mockito 为什么还要有 PowerMock 的存在，上述三个已经有重复发明轮子的嫌疑， 为什么还要大 家去使用 PowerMock 呢？ 其实 PowerMock 并不是重发发明轮子，他的出现只是为了解决上述三种框架根本没有办法完成的工作， 比如 Mock 一个 Static 方法等等，更多的将 PowerMock 理解为对现 有 Mock 框架的扩展和进一步封装是比较贴切的。  我采用的是 spring+PowerMock+h2  这样的组合来进行测试的。  
   
> 20:10:47  韩国才-软通动力-java开发  
   
二：什么是H2  就是内存数据库，项目中加一个jar包就可以使用了，支持mysql.用了它，真实环境的mysql就可以不用了  
   
> 20:11:16  韩国才-软通动力-java开发  
   
三：环境搭建      加测试的jar包，包括，spring-test,junit,dbjunit,powermock,spring-test-dbjunit,h2,具体看项目中的pom      构建spring的测试环境，主要是spring.h2db.xml,h2.properties配置文件，在spring.h2db.xml中需要建表的sql.      创建BaseTest,这里主要是初始化spring，还有powerMock(在setUp里).  
   
> 20:12:23  韩国才-软通动力-java开发  
   
四：具体的使用  具体的使用在项目中，说一下注意的地方：      建表语句要删除了一些mysql中特有的东西，比如innodb，编码格式等。否则初始化会报错      powermock文件夹下是根据PowerMock.pdf写的。一共有十种使用情况。我把有些地方换成了注解的形式      service文件夹是我根据我在工作中遇到的几种情况，其中主要是和spring整合，解决了多层调用mock的问题      根目录下的sql文件夹是项目中用到的sql,doc文件夹下是Power.pdf,建议照着pdf去看代码  
   
> 20:13:51  韩国才-软通动力-java开发  
   
![2018-11-29 20:13:51](http://static.cocolian.cn/img/20181129_201351.png) 
   
> 20:14:41  韩国才-软通动力-java开发  
   
![2018-11-29 20:14:41](http://static.cocolian.cn/img/20181129_201441.png) 
   
> 20:15:43  韩国才-软通动力-java开发  
   
这里是powermock与spring整合之后，有多层调用的问题，用这种方式可以注入解决  
   
> 20:16:59  韩国才-软通动力-java开发  
   
![2018-11-29 20:16:59](http://static.cocolian.cn/img/20181129_201659.png) 
   
> 20:17:20  韩国才-软通动力-java开发  
   
这是h2的使用  
   
> 20:20:12  韩国才-软通动力-java开发  
   
这是h2的建表语句，注意 ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COMMENT=&amp;#39;图书信息表&amp;#39;这部分删掉，否则会报错。  
   
> 20:21:18  韩国才-软通动力-java开发  
   
这就是我总结的一些东西。分享完了  
   
> 20:22:16  韩国才-软通动力-java开发  
   
![2018-11-29 20:22:16](http://static.cocolian.cn/img/20181129_202216.png) 
   
> 20:29:06  王高翔-Silot-SG  
   
签到  
   
> 20:29:11  王高翔-Silot-SG  
   
待  
   
> 20:30:01  王高翔-Silot-SG  
   
powermock好像一般也是和mockito一起用吧，一般是mock static的method？对么？  
   
> 20:32:17  韩国才-软通动力-java开发  
   
powermockjar包里有mocktio.  
   
> 20:32:33  韩国才-软通动力-java开发  
   
你们的单元测试是怎么测得？  
   
> 20:37:55  王高翔-Silot-SG  
   
https://github.com/wgx731/dr-spring  
   
> 20:38:02  王高翔-Silot-SG  
   
大概这个样子吧  
   
> 20:41:02  韩国才-软通动力-java开发  
   
哈哈。学习学习  
   
> 20:41:46  王高翔-Silot-SG  
   
原来pwoermock主要是我们有很多final class里面之后static method，然后用到了  
   
> 20:48:06  风兮-久誉-Java技术  
   
签到  
   
> 20:48:16  风兮-久誉-Java技术  
   
学习了，正好可以用到  
   
