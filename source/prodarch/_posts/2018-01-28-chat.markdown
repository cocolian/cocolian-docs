---
layout:     source 
title:      "2018-01-28-WeChat"
date:       2018-01-28 12:00:00
author:     PaymentGroup
lines:      119 
tag:		  [chat]
---
> 10:23:31  刘刚  
   
微信红包  
   
> 10:25:56  青椒-众之金服-产品-成都  
   
[强]  
   
> 10:27:23  龚晓冬  
   
[强][强]  
   
> 10:29:46  乔俊翔  
   
[强]  
   
> 10:33:25  陈健-人人聚财-产品经理-深圳  
   
[强]  
   
> 10:35:49  吴昌安-小泰科技-资金  
   
[强]  
   
> 10:54:13  小马-海尔消金-开发-青岛  
   
[强]  
   
> 10:56:12  大熊-vend-技术-NZ  
   
[强]  
   
> 12:39:16  王月卿～华胜～产品经理～北京  
   
谢谢[红包][红包][红包]  
   
> 19:00:31  程琳Wa-杉德支付-产品-上海  
   
今天请到一位朋友，@付云-农业-ERP&amp;amp;电商-成都 给大家做分享，主题是“ ERP与电商库存模块的异同” 开始时间为【19:30】；欢迎欢迎[鼓掌][鼓掌][鼓掌]！（注： 1.嘉宾分享期间其他人不要发言打断嘉宾分享。2.分享完成后请大家积极补充和提问；3.烦请领取红包签到，谢谢！  
   
> 19:00:46  程琳Wa-杉德支付-产品-上海  
   
微信红包  
   
> 19:01:03  陈宏  
   
签到  
   
> 19:01:11  程琳Wa-杉德支付-产品-上海  
   
欢迎欢迎[鼓掌][鼓掌][鼓掌]  
   
> 19:01:12  sea  
   
签到  
   
> 19:01:19  sea  
   
这个朋友，好多干货的  
   
> 19:01:26  sea  
   
特别会整理  
   
> 19:01:28  MyCity  
   
签到。  
   
> 19:01:55  洋芋  
   
签到 期待  
   
> 19:02:11  龚晓冬  
   
遛狗?? 童鞋分享了～  
   
> 19:02:26  龚晓冬  
   
人生过的好惬意  
   
> 19:02:35  刘俭民-中科江南-开发运维  
   
签到  
   
> 19:02:57  陈健-人人聚财-产品经理-深圳  
   
签到  
   
> 19:04:10  胡俊-融通-研发-温州  
   
签到  
   
> 19:05:51  Merry(黄燕)  
   
签到  
   
> 19:11:43  电网～产品～时伯寅  
   
签到  
   
> 19:13:09  王振兴-银盛-技术-青岛  
   
签到  
   
> 19:14:06  洪宇明_平安科技_开发经理_深圳  
   
签到  
   
> 19:15:27  刘刚  
   
签到  
   
> 19:15:30  周文豪-环球易购-PM深圳  
   
签到  
   
> 19:20:22  黄灿-捷付睿通-开发-北京  
   
签到  
   
> 19:28:34  付云-农业-开发-成都  
   
我先开始啦，一会儿要带娃了[呲牙]  
   
> 19:28:51  付云-农业-开发-成都  
   
大家好， 基于工作上的一些学习，今天我分享的主题是: ERP与电商库存模块的异同  
   
> 19:29:46  付云-农业-开发-成都  
   
先用白话简单介绍一下什么是ERP(企业资源计划)，它是对整个企业资源（人、财、物）并提供需求计划（MRP）支撑决策的管理系统。  
   
> 19:30:50  付云-农业-开发-成都  
   
很多人对ERP的认识停留在进销存管理系统的概念上，其实在供应链管理中计划模才是整个业务调度的关键，而在电商场景中我们也可以看到类似ERP中计划能力的体现，比如说京东基于大数据预测对供应链的优化（商家的补货、仓库间的商品调拨、仓储管理等等），而ERP中计划也是以解决供/需平衡为基础发展起来的（比如以销定产按订单模式，按库存模式，按装配模式等），当然电商是面对的销售层不涉及到生产制造，所以这块相对来说更可控一些。这里不是主题分享就不细下展开了。  
   
> 19:32:18  小穆-至尊商务-技术-郑州  
   
签到  
   
> 19:33:17  付云-农业-开发-成都  
   
1、一些概念          库存和仓库：仓库是真正管理物理仓库存储的货物，在企业内部有个职位叫 &amp;quot;仓管&amp;quot; ，比如他的职责就是接收采购入库，销售出库，仓库之间的转移、产线上的发料等。  而库存系统是基于仓库之上满足各类业务需求管理的模块(比如说虚拟库存等）。 比如在电商场景中商家对仓库中产品进行上架,下架，各种销售控制等。严格的说电商这块设计上应该包含：销售层、调度层、仓库层。在业务场景上电商因为是面对销售层的，很多开源电商软件只做了销售层这一块。 而在ERP中库存模块分为四大块：基础设置，库存计划，物料调拨，仓库管理。前两项功能远远大于三四项，而国内进销存软件的库存模块往往是从仓库这个角度去看待的，所以只做了仓库管理这一块，而ERP如前面所说计划能力才是关键。  
   
> 19:37:51  付云-农业-开发-成都  
   
2、 入库出库           ERP入库：供应商（采购接收），客户（退货），车间（半成品入库、废料入库等），库存（库存间转移），账户（杂项入库）。          电商入库：商家（盘点调库），商家（采购补货），客户（订单逆向流程退货），客户（售后换货）           ERP 出库：&amp;#160;供应商（退货），客户（销售发放），车间（发料），库存（库存间转移），账户（杂项出库）           电商出库： 商家（盘点调库），客户（订单正向流程销售发放），客户（售后换货）  
   
> 19:38:54  付云-农业-开发-成都  
   
3、关于库存扣减：         ERP中的所有库存移动（采购接收，销售发放，库存间移动，杂项等等）都是通过库存事务处理来完成，并且以会计科目为核心汇总所有事务类型的会计信息导入到总账系统。并且从技术角度提供了事务处理接口可以方便开发人员对接。提外话：ERP中所有主模块核心都提供了接口，这样可以站在这个通用平台上开发各类业务模块的对接（比如财务接口（发票，总账……），库存接口等等）。       电商中的库存由于不涉及到成本这块，更多是面向用户端销售的虚拟库存，所以这块一般专注在高并发情况下对库存的操作，业务上常用扣减手段是先预占的方式（锁定库存，可用库存，在途库存等等）。  
   
> 19:43:55  付云-农业-开发-成都  
   
4、一些技术：          ERP属于典型的中心化业务管理不存在高并发情况，一般统过系统全局的并发管理器来处理,而电商场景中对高并发使用组合手段较多(比如限流，熔断，降级、缓存 等)。      在高可用/高可靠上，企业级ERP的做法一般是HA来做高可用，同时运维这块也有冷备（需停机）、热备（例如rman)，远程容灾之类的，而电商这一块也有类似的手段（例如mysql的多主多从），保证高可用的核心准则是冗余方法，在各个服务层级（站点层，服务层，缓存层，数据层等等）增加冗余保证高可用。  
   
> 19:44:09  付云-农业-开发-成都  
   
今天分享就到这里，没时间画图了[呲牙]，大家有什么问题或不同看法可以留言讨论。  
   
> 20:43:06  付云-农业-开发-成都  
   
看来大家在这块都没什么问题了[呲牙]，有讨论@我  
   
> 20:59:33  达文西-欣业邦-产品-重庆  
   
主要是不知道怎么问 对这块不熟  
   
> 21:20:40  付云-农业-开发-成都  
   
嗯，我也是看了一些主流电商相关的库存设计，和以前ERP中的库存来对比看的  
   
> 21:21:39  龚晓冬  
   
嗯，电商相对考虑得更多对外服务，而erp只是功能性流程为主  
   
> 21:22:38  付云-农业-开发-成都  
   
一般APP的电商只做了销售层这块（类似面向用户的虚拟库存上），所以在数量上都不需要这么严谨，只有保证有可售数量就行  
   
> 21:22:44  龚晓冬  
   
电商外围有客服系统，营销系统，仓储调拨系统，资金周转系统等等  
   
> 21:23:11  龚晓冬  
   
嗯，是的，那是最基础的，我们叫做电商1.0  
   
> 21:25:51  付云-农业-开发-成都  
   
嗯，是的。 稍微复杂一点的电商（比如京东）有供应链系统，这个时候除了销售层面，还需要仓库管理功能了  
   
> 21:26:24  龚晓冬  
   
嗯，是的，其实在转变3.0系统  
   
> 21:26:38  龚晓冬  
   
就是叠加上金融属性  
   
> 21:27:22  龚晓冬  
   
比如货物保理业务，众筹，信贷  
   
> 21:27:40  龚晓冬  
   
否则电商盈利堪忧  
   
> 21:29:35  付云-农业-开发-成都  
   
这也是很多垂直类电商到最后成全品类了，当分销渠道没有优势了，只能从多元化的模式上去补充  
   
> 21:31:03  龚晓冬  
   
但是全品类也不好做，毕竟资本运作要求更高  
   
> 21:34:30  付云-农业-开发-成都  
   
![2018-01-28 21:34:30](http://static.cocolian.cn/img/201801/20180128_213430.png) 
   
> 21:36:02  付云-农业-开发-成都  
   
因为电商站在销售层，一般不用关心这么多，而仓库管理，调拨这些本身需要和业务流程紧密结合，现在几个大厂应该都是在对接上处理  
   
> 21:42:07  付云-农业-开发-成都  
   
![2018-01-28 21:42:07](http://static.cocolian.cn/img/201801/20180128_214207.png) 
   
> 21:42:44  龚晓冬  
   
嗯。是的  
   
> 21:42:53  龚晓冬  
   
你材料好全啊  
   
> 21:43:57  舒俊～产品  
   
电商入库和ERP入库差别是什么？电商入库只是电商系统预定库存吗？  
   
> 21:45:40  付云-农业-开发-成都  
   
ERP入库出库这些操作是通过库存事务管理来统一处理的，最大的不同是ERP会造成资产值的变化。  
   
> 21:46:28  龚晓冬  
   
嗯，是的，erp还有固定资产的折旧  
   
> 21:46:59  付云-农业-开发-成都  
   
传统的手工模式由会计依据，出入库单手工制作凭证，然后向总账过账来完成的，而ERP是自动化流程，通过成本管理器和事务结合来处理的。  
   
> 21:47:49  龚晓冬  
   
嗯，erp还有结合财务报销等一些内部管理制度相结合  
   
> 21:48:37  付云-农业-开发-成都  
   
![2018-01-28 21:48:37](http://static.cocolian.cn/img/201801/20180128_214837.png) 
   
> 21:49:11  付云-农业-开发-成都  
   
如图所示，这个是事务管理器，每一笔库存移动都通过它来看到明细  
   
> 21:49:17  舒俊～产品  
   
最大的不同是ERP会造成资产值的变化，相当于账务系统会计分录中资产部分会变化  
   
> 21:49:29  付云-农业-开发-成都  
   
嗯对的  
   
> 21:50:12  付云-农业-开发-成都  
   
而电商中是站在销售层（虚拟）去做的，但业务流上也会有入库/出库（订单的正向逆向）  
   
> 21:50:45  舒俊～产品  
   
那电商系出入库更像是调配的结果记录  
   
> 21:50:47  舒俊～产品  
   
？？  
   
> 21:51:10  付云-农业-开发-成都  
   
![2018-01-28 21:51:10](http://static.cocolian.cn/img/201801/20180128_215110.png) 
   
> 21:51:40  付云-农业-开发-成都  
   
嗯，这里可以看到一般的电商只有销售订单发放和售后退货  
   
> 21:54:56  付云-农业-开发-成都  
   
技术这块，涉及到事务处理的一定要有明细，不能直接加减库存，而电商中通常用的手段还会在头上做一些冗余字段  
   
> 21:56:00  付云-农业-开发-成都  
   
![2018-01-28 21:56:00](http://static.cocolian.cn/img/201801/20180128_215600.png) 
   
> 21:56:19  舒俊～产品  
   
感觉电商里面应该有库存冻结的概念吧？  
   
> 21:56:22  付云-农业-开发-成都  
   
电商类似这样的做法很常见  
   
> 21:57:14  付云-农业-开发-成都  
   
有的，类似余额这样的设计，可用余额，冻结余额，不可用余额。。。  
   
> 22:00:59  舒俊～产品  
   
那其实ERP更多是偏向仓储管理（供应段管理），电商这块所谓的供应段更多就是提货  
   
> 22:03:48  付云-农业-开发-成都  
   
嗯，包含仓储管理了，这个是基本功能。  
   
> 22:07:10  付云-农业-开发-成都  
   
在传统概念上，库存很容易和仓库联系起来，如果看一下国内很多ERP基本就进入了一个误区，就是以仓库的角色去看待库存了  
   
> 22:09:01  舒俊～产品  
   
嗯嗯，，谢谢，我这块了解不多，学习了  
   
> 22:09:39  龚晓冬  
   
嗯，是的，仓储学问可多了  
   
> 22:11:13  龚晓冬  
   
盘盈盘亏，仓储物资保险，仓储调拨等等  
   
> 22:14:20  付云-农业-开发-成都  
   
嗯，这里面比较复杂。 技术上也是不同的架构，以ERP为例由于没高并发，都是集中式的SQL处理，经常会见到几百行SQL  
   
> 22:14:38  付云-农业-开发-成都  
   
而电商军规是完全杜绝这样的操作，否则肯本玩不转的  
   
> 22:15:06  龚晓冬  
   
嗯，电商这么玩早就死翘翘了  
   
> 22:15:20  龚晓冬  
   
这架构设计可以辞职了  
   
> 22:16:05  孔晓光-丰瑞祥-技术  
   
几百行而且还是十几个人写得并且没有交接，NB么  
   
> 22:16:39  龚晓冬  
   
nb，感觉像是定时炸弹一样  
   
> 22:16:59  龚晓冬  
   
万人坑，就看最后一个是谁接盘了  
   
> 22:18:52  孔晓光-丰瑞祥-技术  
   
然而并没有，中间招聘了个技术好点得，责任心爆发，重写了。  
   
> 22:19:07  孔晓光-丰瑞祥-技术  
   
我也见过这样点正得哈哈哈  
   
> 22:19:14  孔晓光-丰瑞祥-技术  
   
人家还写了文档  
   
> 22:22:28  付云-农业-开发-成都  
   
嗯，流程一定要清楚。电商随着流量暴增后，就要去要做拆分（数据层，服务层等等），这个时候如果没有把流程深入到技术人员骨子里，那是很容易出问题的。  
   
> 22:23:52  龚晓冬  
   
@shawn - 小黑鱼 - 上海?这种人很少有，为了职业精神点赞  
   
> 22:24:27  付云-农业-开发-成都  
   
文档这个时候力不从心了，比如现在的微服务其中流程编排就类似ERP中的流程化，可以把流程深入到技术骨子里，同时对运营人员也有好处。  
   
> 22:31:10  付云-农业-开发-成都  
   
这样可以在一定程度上避免业务需求一套，技术一套，运营人员一套的结果。 比如ERP中的各个模块就有一套完整的运作流程，这些流程定义就是根据开发人员对需求实现的结果，在实际运行过程中，业务人员可以看到数据运作流程  
   
> 22:33:29  龚晓冬  
   
嗯，那是强调管理流程了  
   
> 22:36:20  付云-农业-开发-成都  
   
嗯，是的。思想上可以借鉴。  
   
> 22:36:50  龚晓冬  
   
嗯，其实我觉得可以考虑角色扮演  
   
> 22:37:55  龚晓冬  
   
其实很多设计一直没有深入细想，可以考虑有时在角色扮演中细化出来  
   
> 22:38:42  付云-农业-开发-成都  
   
嗯，我们CEO提出的三个点，不论是技术还是业务上尽量实现： 可感、可控、可追溯。  
   
> 22:39:51  龚晓冬  
   
嗯嗯，很精炼～  
   
> 22:40:09  孔晓光-丰瑞祥-技术  
   
就是俩字，靠人  
   
> 22:41:16  付云-农业-开发-成都  
   
[呲牙]初期靠人，后期不得累死啊  
   
> 22:41:37  孔晓光-丰瑞祥-技术  
   
所以招更多得人！  
   
> 22:42:09  付云-农业-开发-成都  
   
![2018-01-28 22:42:09](http://static.cocolian.cn/img/201801/20180128_224209.png) 
   
> 22:42:17  龚晓冬  
   
不过现在哪家电商人不多  
   
> 22:42:44  龚晓冬  
   
那是很理想的，实际上都需要人  
   
> 22:42:49  付云-农业-开发-成都  
   
堆人那是没办法的  
   
> 22:42:52  孔晓光-丰瑞祥-技术  
   
精髓就是招人，仔细想想没别得  
   
> 22:43:14  孔晓光-丰瑞祥-技术  
   
人才是互联网，所以电商其实就是传统行业  
   
> 22:44:31  付云-农业-开发-成都  
   
比如说订单异常，库存异常等等，你不搞个自动化预警，人盯24小时也不是个事[偷笑]  
   
> 22:44:57  龚晓冬  
   
预警了要有人处理....  
   
> 22:45:13  龚晓冬  
   
不是所有技术都是靠谱的  
   
> 22:45:50  孔晓光-丰瑞祥-技术  
   
预警都是预警给人得，机器能判断就不用预警了  
   
> 22:45:56  付云-农业-开发-成都  
   
嗯，人工干预少不了，总比盯着它等异常好  
   
> 22:46:40  孔晓光-丰瑞祥-技术  
   
程序员不够，祭天都得抓瞎  
   
> 22:48:34  Raph  
   
电商平台和代运营公司这么多 运营到现在也没有什么好的产品  
   
> 22:49:01  付云-农业-开发-成都  
   
运营？你指的什么  
   
> 22:49:46  付云-农业-开发-成都  
   
运营这个范围很广  
   
> 22:50:38  Raph  
   
电商运营 包括电商的方方面面呀 就是运营人员每天干的事情 选品 上下架产品 策划优惠活动 监控库存情况 处理异常订单   
   
> 22:51:29  Raph  
   
国内基本还是靠人 跟传统生意确实区别不大 只是流程信息化了一点   
   
> 22:51:56  付云-农业-开发-成都  
   
所以嘛，这个要细分下来  
   
> 22:52:12  付云-农业-开发-成都  
   
不要指望一个产品或几个人全都包了  
   
> 22:54:07  付云-农业-开发-成都  
   
上次看文章说是美团都有5000技术人员了  
   
