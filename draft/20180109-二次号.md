

二次号给支付公司业务开展带来很多问题，本次讨论将详细介绍二次号的由来，带来的问题，如何解决，给大家提供当前做的一些有益尝试，实践经验和思路，欢迎各位参与讨论。
***

# 1. 什么是二次号？

手机号码二次放号是指用户所使用的手机号码停机后，电信运营商将其收回，冻结一段时间后（一般是3个月，90天）重新发放给新用户。

# 2. 二次号会有什么问题？

手机号作为用户的绑定手机，作为登录号码。

老用户：老用户未及时更改，会有用户泄露的风险，二次号用户会登录到老用户。

新用户：不能注册。

# 3. 如何解决问题？
## 3.1 首先从合法的角度看二次号。

[如何消除手机号码二次放号的不利影响？](http://www.cnii.com.cn/telecom/2017-04/11/content_1841024.htm)

（来源：人民邮电报-中国信息产业网  作者：刘建荣，中国电信四川公司法律部）

>根据我国《电信条例》和《电信码号资源管理办法》等规定，手机号码是由国家所有的电信资源，用户仅享有使用权。对于用户而言，当其手机号码被电信运营商收回后，就丧失了对该手机号码的合法使用权，其对该手机号码的任何继续占有使用就失去了合法依据。在这种情况下，老用户如未能将原来在互联网平台和银行捆绑的手机号码解除绑定，一方面可能面临个人隐私和财产安全受损的风险。另一方面也将有可能会损耗该号码新用户的利益。而对于新用户而言，如果利用系统漏洞窃取原来用户的资金或泄露原来用户的隐私，则可能因此承当相应的民事侵权责任，甚至刑事责任。

## 3.2 如何确定一个用户？
一个号码不能确定一个用户，身份证号码+手机号码确定一个用户。

客户（姓名，身份证号码）+ 用户（用户ID，手机号，邮箱，昵称）+账户 （余额，红包，积分）。这个三户模型，各公司是不同的。支付公司可以是一个树状（1个客户有多个用户，一个用户有多个账户），电信公司是三角型（账户也有所属的客户）。

## 3.3 建立账户绑定关系

有一类通信用户和支付用户强相关业务，要求两边的用户完全一致（身份证号码+手机号码一致），比如话费代扣，月末出账单，自动从支付侧代收话费。

### 建立通信用户和支付用户之间的1对1绑定关系。

可以从通信侧、或支付侧任何一方发起，建立绑定关系，以通信侧为准，身份证号+手机号进行对应，若两边一致，则建立绑定关系，在绑定关系的基础上，办理强相关业务。

**如果不一致：**

a. 当从通信侧（营业厅、网手厅）发起支付用户的创建，如果手机号码被占用（身份证号码不一致），则解绑支付用户的手机号码（支付用户保留，只是取消登录手机号，仍然可以用昵称、邮箱登录），创建新的支付用户。用户在营业厅发起，是一对一的面签。

b. 当从支付侧（支付网站/APP）发起这类强相关业务的时候，通信侧进行检查，如果身份证号码不一致，则不能办理。

当任何一方手机号码发生变化，比如通信侧，用户销户、过户的时候，通知支付侧，取消绑定关系，取消登录手机（账户绑定手机），取消相关业务。支付用户仍然是存在的，只是不能用原手机号登录了。
支付侧，用户先取消相关业务后，可以进行账户注销，更改登录手机，这时通知到通信侧，取消绑定关系。

上述都是针对实名用户，通信侧已基本实现所有用户实名，支付非实名用户也基本不能开展任何业务。

这种建立用户绑定关系的做法，可以很好地解决二次号问题，老用户销户过户的时候，支付用户会进行手机号码的解绑取消，新的二次号用户可以方便地创建新的支付用户。

**弊端：**

a. 和强相关业务绑定在一起。

b. 通信用户和支付用户绑定在一起，业务逻辑复杂，系统耦合性强。支付系统是全国统一系统，但通信系统一般不是集中系统，分省，甚至每省可能有多个系统，比如固话，宽带，2G，3G，4G等。

## 3.4 支付用户注册支持二次号
以前当用户注册的时候，发现手机号被占用，不能注册。

二次号如何判断：到通信侧获取入网时间，如果入网时间晚于支付用户注册时间，则为二次号。

支付用户注册的时候，如果判断为二次号，则解绑前用户的登录手机，仍然保留原用户，创建新用户。

当用户“忘记密码”的时候，如果判断为二次号，则不能通过手机验证码的方式来重置密码。

3.5 下一步计划
当通信侧启用二次号的时候或者用户销户、过户的时候，通知到支付侧，支付侧解绑原支付用户登录手机。
-------

# Q&A
**1 请教一个问题，冻结一段时间重新发放，号码还是原号码吗？**
- 是的，所以是二次号。

**2 所谓支付用户，就是使用话费进行支付的用户，是么？**
- 支付用户，是指支付公司的用户

**3 这个需要建立绑定关系吗，不是通信侧直接能提供信息查证服务？**
- A：没有明白问题。绑定关系是两边的用户建立对应关系。
- Q：就是说通信侧是不是提供单独的对外服务，验证手机号与身份证号是否一致、或者返回手机号的入网时间？
- A：需要通信侧提供服务，返回手机的入网时间。

**4 有一类通信用户和支付用户强相关业务，要求两边的用户完全一致（身份证号码+手机号码一致），比如话费代扣，月末出账单，自动从支付侧代收话费。弱弱的问下，话费代扣是指什么？**
- 话费代扣，就是后面写的，月末出账单，通过支付公司的用户来自动代扣话费，比如从银行卡代扣

**5 不一致验证中，从支付侧发起可以理解，从通信侧发起支付用户的创建，这是在什么场景下？**
- 从通信侧需要办理话费代扣业务的时候

**6 如果是是之前用户注册了网站，后面的用户是不能通过号码找回密码？**
- 后面的用户不能通过手机短信验证码来找回密码。

**7 建议对二次号新注册及原用户找回密码时调一下运营商认证；现在很多app都没有邮箱，所以被动解绑手机号应该给个根据新手机号短验的口子，不然只能电话客服了**
- A：被动解绑手机号的，一般是建议去找客服了。新手机号短验，可能会有风险。
- Q：现在的运营商都能做手机号实名认证的
- A：那就需要专门为这类用户特殊处理，开通道。如果手机号+身份证号+姓名都一致，可以作为一个选项，另外再加上一张银行卡，估计问题不大了。

**8 话费代扣主要适用于，公司为员工定时充话费？**
- 话费代扣，可以用户自己办理，比如你有“支付宝账户"，或者“微信”，可以每月自动从支付宝、微信交话费。

**9 当手机号被收回，作为二次号发放之前，就自动解除原有手机号与支付帐号的关系么？**
- 这个还没有做。可以手机号收回三个月后解除。三个月内，用户可以要回这个手机号。

**10 二次号判定有接口的？**
- 可以去通信公司取手机号入网时间
- 是有二次号接口的，但成本比较高吧；比较便捷的是获取入网时间

**11 以手机号作为主帐号，后期随用户量增多问题也越来越多，自建账号体系，手机号，第三方授权都绑定自建上。类似微信，真实世界的关系容易破碎**
- Q：以身份证号作为主账号呢？
- A：1，没实名前是不知道身份证号的；2，身份证号有重复的


 
