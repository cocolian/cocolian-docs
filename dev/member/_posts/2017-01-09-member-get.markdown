---
layout: member 
title: "获取账户信息"  
subtitle: "CIF-1001"  
date: 2017-01-09 20:00:00  
author: "shamphone"  
header-img: "img/home-bg-post.jpg"  
catalog: true  
chapter : "2.3"
tag: [api]  
---

## 接口定义


根据指定的用户号或者用户名， 查询客户的基本信息、管理信息、证件信息。

```java
GetMemberResponse getMember(GetMemberRequest request);
```

 
## 输入参数 GetMemberRequest

|              |  名称                                                  |  属性        |   业务规则                       |   备注         |
|--------------|--------------------------------------------------------|--------------|----------------------------------|----------------|
|memberId      | 用户号                                                 | 可选         |                                  | 二者必输其一   |
|username      | 登录标识                                               | 可选         |                                  |                |


## 输出参数 GetMemberResponse

|              |  名称                                                  |  属性        |   业务规则                       |   备注         |
|--------------|--------------------------------------------------------|--------------|----------------------------------|----------------|
| 执行结果                                               | 必选         |                                  | 成功、失败     |
| 失败原因                                               | （必）可选   |                                  | 失败情况下必选 |
| 用户号                                                 | 可选         |                                  |                |
| 信息对象                                               | 可选         | 包括基本信息、管理信息、证件信息 |                |


## 业务处理流程

1. 【会员系统】进行接口必输参数校验
	- 用户号、登录标识**必输其一校验，如果未上送提示“用户号、登录标识必输其一”（提示码：\${用户号、登录标识必输其一}）；
2. 【会员系统】进行业务校验：
	- 如果上送了**用户号**、未上送**用户标识**，可直接获取**用户号**；
	- 如果上送了**用户标识**、未上送**用户号**，则先根据**用户标识**查询PER_个人用户标识表**[**PER_USER_LOGIN**]**，获取到**用户号**；
	- 如果都上送，则根据**用户号**查询；
	- 根据**用户号**查询PER_个人用户基本信息表**[**PER_USER**]**
	- 如果未获取到数据，则提示“用户不存在”（提示码：\$｛用户不存在｝）；
	- 如果用户状态**[**CLT_STA**]**为销户，则提示“用户已销户”（提示码：\${用户已销户}）；
	- 用户存在，检验**客户ID**是否为空（如果证件等信息不存在时不会创建客户）。如果为空，则提示“客户不存在”（提示码：\$｛客户不存在｝）。

3. 【会员系统】进行业务处理：
	- 判断用户是否已识别，若未识别，则根据用户号查询客户信息临时表，获取客户相关信息。
	- 若已识别，则
		1.  获取**客户ID**；
			- 根据**用户号**查询PER_个人用户基本信息表[PER_USER]，获取**客户ID**；
			- 根据**用户标识**查询PER_个人用户标识表**[**PER_USER_LOGIN**]，**获取到**用户号**，然后再根据**用户号**查询PER_个人用户基本信息表[PER_USER]，获取**客户ID；**
		2. **如果查询标准信息，**根据**客户ID**分别查询PER_个人客户基本信息表**[**PER_Individual**]**、PER_客户管理信息表**[**PER_Management**]**、PER_联系电话表**[**PER_Contact_Phone**]**、PER_网络联系方式表**[**PER_Web_Contact**]、**PER_证件信息表**[**PER_Certificate**]**及PER_地址信息表**[**PER_ADDRESS**]**；
			- 如果存在该客户联系信息，则返回给业务系统该客户的证件信息、联系信息（电话、网络、物理地址）列表和基本信息、管理信息对象；
			- 如果不存在信息，则返回NULL。

		3.  **如果查询简易信息，**根据客户ID和默认标识分别查询PER_个人客户基本信息表[PER_Individual]、PER_客户管理信息表[PER_Management]、PER_证件信息表**[**PER_Certificate**]**及PER_地址信息表[PER_ADDRESS]
			- 如果存在该客户联系信息，则返回给业务系统该客户的证件信息、联系信息（物理地址）默认主信息；
			- 如果不存在信息，则返回NULL。

4.  **【会员系统】系统执行结果：**
	- 失败，则返回失败原因；
	- 成功，返回该客户的证件信息、基本信息、管理信息对象，列表字段详见对应表字段。

【结束流程】