---  
layout:     post   
title:      "20180312-资金中心建设"  
date:       2018-03-12 12:00:00  
author:     "支付产品架构群"  
tag:		[hidden]   
--- 


   
![2018-03-12 17:01:20](http://static.cocolian.cn/img/201803/20180312_170120.png) 
      
从这张图里可以看出，我们是一家集团公司，业务众多，所以需要通过资金中心统一支付、清结算相关功能，以提高对接效率，降低对接成本。  
   
整体上的思路如下图所示：  

![2018-03-12 17:02:11](http://static.cocolian.cn/img/201803/20180312_170211.png) 
   
首先，支付都是基于账户的交易，所以就有了账户管理模块，并且分成三类账户： 
1. 机构账户：后台创建机构用户，然后再创建账户；   
2. 结算账户：各业务方在支付公司开通的商户号的映射；   
3. 会员账户：由机构调用接口生成；  
      
第二，有了账户之后还不够，需要渠道的支持，于是就产生了“渠道管理”模块 统一管理接入的支付渠道及其产品、限额、路由规则和开关等；   
1. 合作银行管理  
2. 支付渠道管理   
3. 银行开关管理  
4. 银行限额管理
5. 渠道路由管理  

   
第三，账户、渠道都准备好了，那怎么来对接业务呢？这就涉及到了对外的相应接口, 面向各业务方，提供开户、鉴权、充值（代扣、认证支付、个人网银、企业网银等）、提现、冻结/解冻等接口，以满足业务需求。   
1. 开户接口；  
2. 交易接口： 鉴权、充值、提现、冻结/解冻等；   
3. 查询接口。  
   
第四，业务方调用接口之后，需要交易查询功能，相应就产生了“交易管理模块”： 即通过后台页面或接口，查询内外部交易。   
1. 外部交易是指涉及到支付公司的交易，比如充值、提现和鉴权；  
2. 内部交易是指诸如冻结、解冻、转账等不涉及支付公司的交易；  
      
第五，交易完成之后需要入账，此部分在账户流水查询中体现；   
1. 结算账户流水查询；  
2. 机构账户流水查询；  
3. 会员账户流水查询；  
     
第六，交易也做了，账户流水也产生了，有没有可能出问题呢？这时候就需要对账了:   
1. 对账模块：主要用于核对往来资金是否正确，确保账务无误。  
2. 资金对账：资金汇总对账；  
3. 资金明细对账；   
4. 手续费对账：手续费汇总对账；手续费明细对账；  
   
  
最后，作为一个管理后台，需要针对不同角色设置不同权限，所以需要一个权限管理模块。  
